---
title: Jestã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹å®Œå…¨ã‚¬ã‚¤ãƒ‰
sidebar:
    label: ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
---

# ğŸ§ª Jestã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹å®Œå…¨ã‚¬ã‚¤ãƒ‰

`Jest`ã®å®Ÿå‹™ã§ä½¿ãˆã‚‹ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ–¹æ³•ã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’ã€è©³ç´°ãªå®Ÿè£…ä¾‹ã¨ã¨ã‚‚ã«è§£èª¬ã—ã¾ã™ã€‚

## ğŸ—ï¸ 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1.1 åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

#### æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å ´åˆ

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸåŒ–
npm init -y

# Jestã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install --save-dev jest

# TypeScriptã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ
npm install --save-dev typescript @types/jest ts-jest

# Reactã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ
npm install --save-dev @testing-library/react @testing-library/jest-dom @testing-library/user-event
```

#### æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®è¿½åŠ 

```bash
# æ—¢å­˜ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«Jestã‚’è¿½åŠ 
npm install --save-dev jest

# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ç”Ÿæˆ
npx jest --init
```

### 1.2 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

#### æ¨å¥¨ã•ã‚Œã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
project-root/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â””â”€â”€ Button.test.tsx
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ helpers.ts
â”‚   â”‚   â””â”€â”€ helpers.test.ts
â”‚   â””â”€â”€ __tests__/
â”‚       â””â”€â”€ integration/
â”‚           â””â”€â”€ app.test.tsx
â”œâ”€â”€ __mocks__/
â”‚   â””â”€â”€ axios.ts
â”œâ”€â”€ jest.config.js
â”œâ”€â”€ jest.setup.js
â””â”€â”€ package.json
```

### 1.3 è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ

#### åŸºæœ¬çš„ãªè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆJavaScriptï¼‰

```javascript
// jest.config.js
module.exports = {
  // ãƒ†ã‚¹ãƒˆç’°å¢ƒ
  testEnvironment: 'jest-environment-jsdom',
  
  // ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®æ¤œç´¢ãƒ‘ã‚¿ãƒ¼ãƒ³
  testMatch: [
    '**/__tests__/**/*.(js|jsx|ts|tsx)',
    '**/*.(test|spec).(js|jsx|ts|tsx)',
  ],
  
  // ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®è§£æ±º
  moduleNameMapper: {
    '^@/(.*)$': '<rootDir>/src/$1',
    '\\.(css|less|scss|sass)$': 'identity-obj-proxy',
  },
  
  // ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«
  setupFilesAfterEnv: ['<rootDir>/jest.setup.js'],
  
  // ã‚«ãƒãƒ¬ãƒƒã‚¸ã®è¨­å®š
  collectCoverageFrom: [
    'src/**/*.{js,jsx,ts,tsx}',
    '!src/**/*.d.ts',
    '!src/**/*.stories.{js,jsx,ts,tsx}',
    '!src/**/__tests__/**',
  ],
  
  // ã‚«ãƒãƒ¬ãƒƒã‚¸ã®é–¾å€¤
  coverageThreshold: {
    global: {
      branches: 80,
      functions: 80,
      lines: 80,
      statements: 80,
    },
  },
  
  // ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ ã®è¨­å®š
  transform: {
    '^.+\\.(js|jsx|ts|tsx)$': 'babel-jest',
  },
  
  // ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ç„¡è¦–ãƒ‘ã‚¿ãƒ¼ãƒ³
  transformIgnorePatterns: [
    '/node_modules/(?!(module-to-transform)/)',
  ],
  
  // ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®æ‹¡å¼µå­
  moduleFileExtensions: ['js', 'jsx', 'ts', 'tsx', 'json'],
};
```

#### TypeScriptãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å ´åˆ

```javascript
// jest.config.js
module.exports = {
  preset: 'ts-jest',
  testEnvironment: 'jest-environment-jsdom',
  roots: ['<rootDir>/src'],
  testMatch: ['**/__tests__/**/*.ts?(x)', '**/?(*.)+(spec|test).ts?(x)'],
  transform: {
    '^.+\\.(ts|tsx)$': 'ts-jest',
  },
  moduleNameMapper: {
    '^@/(.*)$': '<rootDir>/src/$1',
  },
  setupFilesAfterEnv: ['<rootDir>/jest.setup.js'],
  collectCoverageFrom: [
    'src/**/*.{ts,tsx}',
    '!src/**/*.d.ts',
    '!src/**/__tests__/**',
  ],
};
```

#### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«

```javascript
// jest.setup.js
import '@testing-library/jest-dom';

// ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ¢ãƒƒã‚¯ã®è¨­å®š
global.console = {
  ...console,
  // ãƒ†ã‚¹ãƒˆä¸­ã«console.logã‚’ç„¡åŠ¹åŒ–ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
  // log: jest.fn(),
  // error: jest.fn(),
  // warn: jest.fn(),
};

// ã‚¿ã‚¤ãƒãƒ¼ã®ãƒ¢ãƒƒã‚¯
jest.useFakeTimers();

// ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
process.env.NODE_ENV = 'test';
```

## 2. ç’°å¢ƒåˆ¥ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 2.1 Reactãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

#### Create React Appã®å ´åˆ

```bash
# Create React Appã¯æ—¢ã«JestãŒè¨­å®šæ¸ˆã¿
npx create-react-app my-app
cd my-app
npm test
```

#### Vite + Reactã®å ´åˆ

```bash
# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install --save-dev jest @testing-library/react @testing-library/jest-dom @testing-library/user-event jest-environment-jsdom

# Babelã®è¨­å®š
npm install --save-dev @babel/core @babel/preset-env @babel/preset-react babel-jest
```

```javascript
// babel.config.js
module.exports = {
  presets: [
    ['@babel/preset-env', { targets: { node: 'current' } }],
    ['@babel/preset-react', { runtime: 'automatic' }],
  ],
};
```

```javascript
// jest.config.js
module.exports = {
  testEnvironment: 'jest-environment-jsdom',
  setupFilesAfterEnv: ['<rootDir>/jest.setup.js'],
  moduleNameMapper: {
    '^@/(.*)$': '<rootDir>/src/$1',
  },
  transform: {
    '^.+\\.(js|jsx|ts|tsx)$': 'babel-jest',
  },
};
```

### 2.2 Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

#### Next.js 13+ (App Router)

```bash
# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install --save-dev jest jest-environment-jsdom @testing-library/react @testing-library/jest-dom
```

```javascript
// jest.config.js
const nextJest = require('next/jest');

const createJestConfig = nextJest({
  dir: './',
});

const customJestConfig = {
  setupFilesAfterEnv: ['<rootDir>/jest.setup.js'],
  testEnvironment: 'jest-environment-jsdom',
  moduleNameMapper: {
    '^@/(.*)$': '<rootDir>/src/$1',
  },
  collectCoverageFrom: [
    'src/**/*.{js,jsx,ts,tsx}',
    '!src/**/*.d.ts',
    '!src/**/__tests__/**',
  ],
};

module.exports = createJestConfig(customJestConfig);
```

### 2.3 Node.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIã®ãƒ†ã‚¹ãƒˆ

```bash
# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install --save-dev jest supertest
```

```javascript
// jest.config.js
module.exports = {
  testEnvironment: 'node',
  testMatch: ['**/__tests__/**/*.test.js'],
  collectCoverageFrom: [
    'src/**/*.js',
    '!src/**/__tests__/**',
  ],
};
```

```javascript
// __tests__/api.test.js
const request = require('supertest');
const app = require('../src/app');

describe('API Tests', () => {
  test('GET /api/users', async () => {
    const response = await request(app)
      .get('/api/users')
      .expect(200);
    
    expect(response.body).toHaveLength(0);
  });
});
```

## 3. ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 3.1 ãƒ†ã‚¹ãƒˆã®æ§‹é€ åŒ–

#### AAAãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆArrange-Act-Assertï¼‰

```javascript
// è‰¯ã„ä¾‹: AAAãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ç”¨
describe('Button Component', () => {
  test('ã‚¯ãƒªãƒƒã‚¯æ™‚ã«onClickãŒå‘¼ã°ã‚Œã‚‹', () => {
    // Arrange: ãƒ†ã‚¹ãƒˆã®æº–å‚™
    const handleClick = jest.fn();
    const { getByRole } = render(<Button onClick={handleClick}>Click me</Button>);
    const button = getByRole('button');
    
    // Act: ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
    fireEvent.click(button);
    
    // Assert: çµæœã®æ¤œè¨¼
    expect(handleClick).toHaveBeenCalledTimes(1);
  });
});
```

### 3.2 ãƒ¢ãƒƒã‚¯ã®æ´»ç”¨

#### é–¢æ•°ã®ãƒ¢ãƒƒã‚¯

```javascript
// utils/helpers.js
export const fetchUser = async (userId) => {
  const response = await fetch(`/api/users/${userId}`);
  return response.json();
};

// __tests__/helpers.test.js
import { fetchUser } from '../utils/helpers';

// fetchã‚’ãƒ¢ãƒƒã‚¯
global.fetch = jest.fn();

describe('fetchUser', () => {
  test('ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å–å¾—ã™ã‚‹', async () => {
    // Arrange
    const mockUser = { id: 1, name: 'John' };
    global.fetch.mockResolvedValueOnce({
      json: async () => mockUser,
    });
    
    // Act
    const user = await fetchUser(1);
    
    // Assert
    expect(user).toEqual(mockUser);
    expect(global.fetch).toHaveBeenCalledWith('/api/users/1');
  });
});
```

#### ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ¢ãƒƒã‚¯

```javascript
// __mocks__/axios.js
module.exports = {
  get: jest.fn(() => Promise.resolve({ data: {} })),
  post: jest.fn(() => Promise.resolve({ data: {} })),
};

// __tests__/api.test.js
jest.mock('axios');
const axios = require('axios');

describe('API Tests', () => {
  test('ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å–å¾—ã™ã‚‹', async () => {
    const mockUser = { id: 1, name: 'John' };
    axios.get.mockResolvedValue({ data: mockUser });
    
    const user = await fetchUser(1);
    
    expect(user).toEqual(mockUser);
  });
});
```

### 3.3 ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®ç®¡ç†

#### ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®åˆ†é›¢

```javascript
// __tests__/test-data.js
export const testUsers = {
  admin: {
    id: 1,
    name: 'Admin User',
    email: 'admin@example.com',
    role: 'admin',
  },
  user: {
    id: 2,
    name: 'Regular User',
    email: 'user@example.com',
    role: 'user',
  },
};

export const testProducts = {
  laptop: {
    id: 1,
    name: 'Laptop',
    price: 999.99,
    category: 'Electronics',
  },
  phone: {
    id: 2,
    name: 'Phone',
    price: 699.99,
    category: 'Electronics',
  },
};
```

#### ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼é–¢æ•°ã®ä½¿ç”¨

```javascript
// __tests__/factories.js
export const createUser = (overrides = {}) => ({
  id: 1,
  name: 'Test User',
  email: 'test@example.com',
  role: 'user',
  ...overrides,
});

export const createProduct = (overrides = {}) => ({
  id: 1,
  name: 'Test Product',
  price: 99.99,
  category: 'Test',
  ...overrides,
});

// ä½¿ç”¨ä¾‹
const adminUser = createUser({ role: 'admin' });
const expensiveProduct = createProduct({ price: 999.99 });
```

### 3.4 ã‚«ã‚¹ã‚¿ãƒ ãƒãƒƒãƒãƒ£ãƒ¼ã®ä½œæˆ

#### ã‚«ã‚¹ã‚¿ãƒ ãƒãƒƒãƒãƒ£ãƒ¼ã®å®šç¾©

```javascript
// jest.setup.js
expect.extend({
  toBeWithinRange(received, floor, ceiling) {
    const pass = received >= floor && received <= ceiling;
    if (pass) {
      return {
        message: () => `expected ${received} not to be within range ${floor} - ${ceiling}`,
        pass: true,
      };
    } else {
      return {
        message: () => `expected ${received} to be within range ${floor} - ${ceiling}`,
        pass: false,
      };
    }
  },
});

// ä½¿ç”¨ä¾‹
test('æ•°å€¤ãŒç¯„å›²å†…ã«ã‚ã‚‹', () => {
  expect(100).toBeWithinRange(90, 110);
});
```

### 3.5 éåŒæœŸå‡¦ç†ã®ãƒ†ã‚¹ãƒˆ

#### async/awaitã®ä½¿ç”¨

```javascript
// è‰¯ã„ä¾‹: async/awaitã‚’ä½¿ç”¨
test('éåŒæœŸå‡¦ç†ã®ãƒ†ã‚¹ãƒˆ', async () => {
  const result = await fetchData();
  expect(result).toBeDefined();
});

// æ‚ªã„ä¾‹: ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚„Promiseãƒã‚§ãƒ¼ãƒ³
test('éåŒæœŸå‡¦ç†ã®ãƒ†ã‚¹ãƒˆï¼ˆæ‚ªã„ä¾‹ï¼‰', (done) => {
  fetchData().then((result) => {
    expect(result).toBeDefined();
    done();
  });
});
```

#### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ãƒ†ã‚¹ãƒˆ

```javascript
test('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹å ´åˆ', async () => {
  await expect(asyncFunction()).rejects.toThrow('Error message');
});

test('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„å ´åˆ', async () => {
  await expect(asyncFunction()).resolves.toBeDefined();
});
```

### 3.6 ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãƒ†ã‚¹ãƒˆ

#### ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ä½¿ç”¨

```javascript
// è‰¯ã„ä¾‹: ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
test('ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ', () => {
  const { container } = render(<Button>Click me</Button>);
  expect(container).toMatchSnapshot();
});

// ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã®æ›´æ–°
// npm test -- -u
```

#### ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®æ³¨æ„ç‚¹

```javascript
// ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¯æ…é‡ã«ä½¿ç”¨
// - é »ç¹ã«å¤‰æ›´ã•ã‚Œã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã¯ä¸å‘ã
// - é‡è¦ãªUIè¦ç´ ã®å›å¸°ãƒ†ã‚¹ãƒˆã«é©ã—ã¦ã„ã‚‹
// - ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã®æ›´æ–°ã‚’å®šæœŸçš„ã«ãƒ¬ãƒ“ãƒ¥ãƒ¼
```

## 4. ã‚«ãƒãƒ¬ãƒƒã‚¸ã¨ãƒ¬ãƒãƒ¼ãƒˆ

### 4.1 ã‚«ãƒãƒ¬ãƒƒã‚¸ã®è¨­å®š

#### ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã®ç”Ÿæˆ

```javascript
// jest.config.js
module.exports = {
  collectCoverage: true,
  collectCoverageFrom: [
    'src/**/*.{js,jsx,ts,tsx}',
    '!src/**/*.d.ts',
    '!src/**/__tests__/**',
    '!src/**/*.stories.{js,jsx,ts,tsx}',
  ],
  coverageDirectory: 'coverage',
  coverageReporters: ['text', 'lcov', 'html'],
  coverageThreshold: {
    global: {
      branches: 80,
      functions: 80,
      lines: 80,
      statements: 80,
    },
  },
};
```

#### ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã®å®Ÿè¡Œ

```bash
# ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆ
npm test -- --coverage

# ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‚’HTMLã§è¡¨ç¤º
npm test -- --coverage --coverageReporters=html
```

### 4.2 ã‚«ãƒãƒ¬ãƒƒã‚¸ã®é–¾å€¤

#### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã®é–¾å€¤

```javascript
// jest.config.js
module.exports = {
  coverageThreshold: {
    global: {
      branches: 80,
      functions: 80,
      lines: 80,
      statements: 80,
    },
  },
};
```

#### ãƒ•ã‚¡ã‚¤ãƒ«å˜ä½ã®é–¾å€¤

```javascript
// jest.config.js
module.exports = {
  coverageThreshold: {
    global: {
      branches: 80,
      functions: 80,
      lines: 80,
      statements: 80,
    },
    './src/utils/': {
      branches: 90,
      functions: 90,
      lines: 90,
      statements: 90,
    },
  },
};
```

## 5. CI/CDçµ±åˆ

### 5.1 GitHub Actions

#### GitHub Actionsã®è¨­å®š

```yaml
# .github/workflows/jest.yml
name: Jest Tests

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main, develop]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'
      
      - name: Install dependencies
        run: npm ci
      
      - name: Run tests
        run: npm test -- --coverage
      
      - name: Upload coverage
        uses: codecov/codecov-action@v3
        with:
          files: ./coverage/lcov.info
          flags: unittests
          name: codecov-umbrella
```

### 5.2 GitLab CI/CD

#### GitLab CI/CDã®è¨­å®š

```yaml
# .gitlab-ci.yml
stages:
  - test

jest:
  stage: test
  image: node:18
  before_script:
    - npm ci
  script:
    - npm test -- --coverage
  coverage: '/Lines\s*:\s*(\d+\.\d+)%/'
  artifacts:
    reports:
      coverage_report:
        coverage_format: cobertura
        path: coverage/cobertura-coverage.xml
```

## 6. ãƒ‡ãƒãƒƒã‚°ã¨ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### 6.1 ãƒ‡ãƒãƒƒã‚°æ–¹æ³•

#### ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã®å®Ÿè¡Œ

```bash
# ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
node --inspect-brk node_modules/.bin/jest --runInBand

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆã‚’ãƒ‡ãƒãƒƒã‚°
npm test -- --testNamePattern="test name"
```

#### ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ã®ç¢ºèª

```javascript
// ãƒ†ã‚¹ãƒˆä¸­ã®ãƒ­ã‚°ã‚’ç¢ºèª
test('ãƒ‡ãƒãƒƒã‚°ä¾‹', () => {
  console.log('Debug information');
  // ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
});
```

### 6.2 ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºç­–

#### å•é¡Œ1: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„

**åŸå› :**
- ãƒ‘ã‚¹ã®è§£æ±ºãŒæ­£ã—ããªã„
- moduleNameMapperã®è¨­å®šãŒä¸é©åˆ‡

**è§£æ±ºç­–:**

```javascript
// jest.config.js
module.exports = {
  moduleNameMapper: {
    '^@/(.*)$': '<rootDir>/src/$1',
    '\\.(css|less|scss|sass)$': 'identity-obj-proxy',
  },
};
```

#### å•é¡Œ2: ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚¨ãƒ©ãƒ¼

**åŸå› :**
- éåŒæœŸå‡¦ç†ã®å¾…æ©Ÿæ™‚é–“ãŒä¸è¶³
- ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œæ™‚é–“ãŒé•·ã„

**è§£æ±ºç­–:**

```javascript
// ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’å»¶é•·
test('é…ã„ãƒ†ã‚¹ãƒˆ', async () => {
  // ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
}, 10000); // 10ç§’

// ã¾ãŸã¯ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«è¨­å®š
// jest.config.js
module.exports = {
  testTimeout: 10000, // 10ç§’
};
```

#### å•é¡Œ3: ãƒ¢ãƒƒã‚¯ãŒæ©Ÿèƒ½ã—ãªã„

**åŸå› :**
- ãƒ¢ãƒƒã‚¯ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ãŒä¸é©åˆ‡
- ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥

**è§£æ±ºç­–:**

```javascript
// ãƒ¢ãƒƒã‚¯ã‚’ãƒ†ã‚¹ãƒˆã®å‰ã«é…ç½®
jest.mock('./module');

// ã¾ãŸã¯ã€ãƒ¢ãƒƒã‚¯ã‚’ãƒªã‚»ãƒƒãƒˆ
beforeEach(() => {
  jest.clearAllMocks();
});
```

## 7. å®Ÿå‹™ã§ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 7.1 ãƒ†ã‚¹ãƒˆã®å‘½åè¦å‰‡

```javascript
// è‰¯ã„ä¾‹: æ˜ç¢ºã§èª¬æ˜çš„ãªåå‰
describe('Button Component', () => {
  test('ã‚¯ãƒªãƒƒã‚¯æ™‚ã«onClickãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒå‘¼ã°ã‚Œã‚‹', () => {
    // ...
  });
  
  test('disabledãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒtrueã®å ´åˆã€ã‚¯ãƒªãƒƒã‚¯ã§ããªã„', () => {
    // ...
  });
});

// æ‚ªã„ä¾‹: æ›–æ˜§ãªåå‰
describe('Button', () => {
  test('test1', () => {
    // ...
  });
});
```

### 7.2 ãƒ†ã‚¹ãƒˆã®ç‹¬ç«‹æ€§

```javascript
// è‰¯ã„ä¾‹: å„ãƒ†ã‚¹ãƒˆãŒç‹¬ç«‹ã—ã¦ã„ã‚‹
describe('User Service', () => {
  beforeEach(() => {
    // å„ãƒ†ã‚¹ãƒˆã®å‰ã«ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
    jest.clearAllMocks();
  });
  
  test('ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆã™ã‚‹', () => {
    // ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
  });
  
  test('ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å–å¾—ã™ã‚‹', () => {
    // ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ï¼ˆå‰ã®ãƒ†ã‚¹ãƒˆã«ä¾å­˜ã—ãªã„ï¼‰
  });
});
```

### 7.3 ãƒ†ã‚¹ãƒˆã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§

```javascript
// å®šæ•°ã¨ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ã®ä½¿ç”¨
const TEST_DATA = {
  user: {
    id: 1,
    name: 'Test User',
    email: 'test@example.com',
  },
};

const renderComponent = (props = {}) => {
  return render(<Component {...TEST_DATA.user} {...props} />);
};

test('ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆ', () => {
  const { getByText } = renderComponent();
  expect(getByText('Test User')).toBeInTheDocument();
});
```

### 7.4 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

```javascript
// ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆã®ä¾‹
test('å¤§é‡ã®ãƒ‡ãƒ¼ã‚¿ã‚’å‡¦ç†ã§ãã‚‹', () => {
  const startTime = performance.now();
  processLargeData(10000);
  const endTime = performance.now();
  
  expect(endTime - startTime).toBeLessThan(1000); // 1ç§’ä»¥å†…
});
```

ã“ã‚Œã§ã€Jestã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’å®Ÿå‹™ã§æ´»ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚


