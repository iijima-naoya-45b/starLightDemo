---
title: "SEO対策"
label: "SEO対策"
---

# AstroサイトのSEO完全ガイド

Astroは、デフォルトで超高速なサイトを生成するため、SEO（検索エンジン最適化）において非常に有利です。ここでは、Astroプロジェクトの検索エンジン順位をさらに向上させるための具体的な設定方法を詳しく解説します。

## 1. 基本的なメタタグの設定

メタタグは、ページの内容を検索エンジンやSNSに伝えるための重要な情報です。これらを一元管理するために、再利用可能なSEO.astroコンポーネントを作成するのが最も効率的です。

### SEOコンポーネントの作成

`src/components/SEO.astro` というファイルを作成し、以下の内容を記述します。

```astro
---
// src/components/SEO.astro
import type { GetImageResult } from 'astro:assets';

interface Props {
  title: string;
  description: string;
  image?: GetImageResult; // Open Graphの画像用
  // 他にも必要なプロパティがあれば追加
}

const { title, description, image } = Astro.props;

// カノニカルURLを現在のページのURLから自動生成
const canonicalUrl = new URL(Astro.url.pathname, Astro.site);
---

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>{title}</title>
<meta name="description" content={description} />
<link rel="canonical" href={canonicalUrl} />

<meta property="og:title" content={title} />
<meta property="og:description" content={description} />
<meta property="og:url" content={canonicalUrl} />
<meta property="og:type" content="website" />
{image && <meta property="og:image" content={new URL(image.src, Astro.site)} />}

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content={title} />
<meta name="twitter:description" content={description} />
{image && <meta name="twitter:image" content={new URL(image.src, Astro.site)} />}
```

### SEOコンポーネントの利用

作成したコンポーネントを、各ページや共通のレイアウトファイル (`src/layouts/Layout.astro` など) の<head></head>内で呼び出します。

```astro
---
// src/layouts/Layout.astro
import SEO from '../components/SEO.astro';
---
<html lang="ja">
  <head>
    <SEO
      title="私のAstroサイト | トップページ"
      description="Astroで作ったサイトのトップページです。SEO対策をしています。"
    />
  </head>
  <body>
    <slot />
  </body>
</html>
```

#### ポイント

- **タイトル (title):** 検索結果で最も目立つ要素です。簡潔で分かりやすいタイトルをつけましょう。
- **ディスクリプション (description):** 検索結果のスニペットに表示されます。ユーザーがクリックしたくなるような魅力的な説明文を記述します。
- **カノニカルURL (canonical):** ページの正規URLを指定し、重複コンテンツ問題を避けます。
- **Open Graph (OGP):** FacebookやTwitterなどで共有された際の表示をリッチにします。

## 2. サイトマップの自動生成

サイトマップは、サイト内の全ページのリストを検索エンジンに伝え、クロール（情報収集）を効率化させるためのファイルです。Astroでは公式のインテグレーションを使って簡単に自動生成できます。

### インストール

以下のコマンドを実行すると、必要なパッケージがインストールされ、設定ファイルも自動で更新されます。

```bash
npx astro add sitemap
```

### 設定

`astro.config.mjs` ファイルを開き、`site` プロパティにあなたのサイトの公開ドメインが正しく設定されていることを確認してください。これは絶対URLを生成するために不可欠です。

```javascript
// astro.config.mjs
import { defineConfig } from 'astro/config';
import sitemap from '@astrojs/sitemap';

export default defineConfig({
  // ↓↓↓ この行が重要！ ↓↓↓
  site: 'https://www.example.com',
  integrations: [sitemap()],
});
```

これで `npm run build` を実行すると、出力ディレクトリ（通常は `dist`）に `sitemap-index.xml` が自動で生成されます。

## 3. robots.txtの設置

`robots.txt` は、検索エンジンのクローラーに対して、どのページをクロールしてよいか（または、しないでほしいか）を指示するファイルです。

`public/` ディレクトリに `robots.txt` という名前のファイルを作成します。`public` 内のファイルは、ビルド時にそのままルートディレクトリにコピーされます。

```plaintext
# すべてのクローラーにすべてのページのクロールを許可
User-agent: *
Allow: /

# サイトマップの場所を通知
Sitemap: https://www.example.com/sitemap-index.xml
```

サイトマップのURLは、あなた自身のドメインに書き換えてください。

## 4. 構造化データ (JSON-LD)

構造化データは、ページの内容をより詳細に検索エンジンに伝えるためのデータ形式です。これにより、検索結果に評価（星マーク）や価格、FAQなどが表示される「リッチリザルト」が期待できます。

ブログ記事の場合、以下のようなスクリプトをページの<head></head>に追加します。

```html
<script type="application/ld+json" set:html={JSON.stringify({
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "AstroでのSEO対策",
  "name": "AstroでのSEO対策",
  "description": "Astroサイトで実践できるSEOのテクニックを網羅的に解説します。",
  "datePublished": "2025-08-22",
  "author": {
    "@type": "Person",
    "name": "Astro Lover"
  }
})} />
```

## 5. 画像の最適化とアクセシビリティ

### 画像最適化

ページの表示速度は重要なSEO要素です。Astroの`<Image />`コンポーネントや`getImage()`関数を使うと、WebP形式への変換や適切なサイズへのリサイズが自動で行われ、サイトのパフォーマンスが向上します。

### アクセシビリティ

`alt`属性をすべての画像に設定することは、画像の内容を検索エンジンに伝えるだけでなく、スクリーンリーダーを使用するユーザーにとっても不可欠です。

```astro
---
import { Image } from 'astro:assets';
import myImage from '../assets/my-image.png';
---
<Image src={myImage} alt="AstroのロゴとSEOという文字が書かれたイラスト" />
```

これらの対策を総合的に行うことで、Astroサイトの検索エンジン評価を最大限に高めることができます。