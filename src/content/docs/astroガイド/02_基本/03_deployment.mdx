---
title: "デプロイメント"
label: "デプロイメント"
---

# Astroサイトのデプロイ

Astroで構築したWebサイトは、Vercelのようなモダンなプラットフォームに簡単にデプロイできます。VercelはAstroに最適化されており、特別な設定なしで高速なサイトを公開できます。ここでは、2つの主要なデプロイ方法を解説します。

## 1. 事前準備

Vercelにデプロイする前に、以下の準備が必要です。

- **Gitリポジトリにプッシュする:** AstroプロジェクトをGitHub, GitLab, またはBitbucketなどのオンラインリポジトリにプッシュしておきます。

- **Vercelアカウントの作成:** Vercelのウェブサイトでアカウントを作成します。GitHubアカウントでサインアップするのが最も簡単です。

- **Vercel CLIのインストール:** コマンドラインからデプロイする場合に必要です。

```bash
npm install -g vercel
```

## 2. 推奨: Git連携による自動デプロイ 🚀

この方法が最も推奨されます。一度設定すれば、Gitリポジトリにコードをプッシュするだけで、Vercelが自動的にサイトを更新してくれる「継続的デプロイメント (Continuous Deployment)」が実現します。

### 手順

1. Vercelダッシュボードにログインし、「Add New」→「Project」を選択します。

2. VercelをGitプロバイダー（GitHubなど）と連携させ、デプロイしたいAstroプロジェクトのリポジトリをインポートします。

3. Vercelはプロジェクトを分析し、Astroであることを自動的に検出するため、ビルド設定はデフォルトのままで問題ありません。特別な設定（例: 環境変数）が必要な場合は、ここで追加できます。

4. 「Deploy」ボタンをクリックします。

5. Vercelがビルドとデプロイを自動的に開始します。完了すると、サイトの公開URLが提供されます。

### メリット

- git pushだけで自動的にサイトが更新されます。
- プレビューURLが自動で生成され、本番環境へのデプロイ前に変更を確認できます。

## 3. CLIによる手動デプロイ

Git連携を使わない場合や、コマンドラインから直接デプロイしたい場合は、Vercel CLIを使用します。

### 手順

1. プロジェクトのルートディレクトリに移動し、以下のコマンドを実行します。

```bash
vercel
```

初回実行時には、Vercelアカウントにログインするよう求められます。指示に従ってログインします。

2. 次に、いくつかの質問が表示されます。

- **Set up and deploy “/path/to/your-astro-project”? [Y/n]:** Y を入力します。
- **Which scope do you want to deploy to?:** あなたのチームや個人のアカウント名を選択します。
- **Link to existing project? [y/N]:** 新しいプロジェクトとしてデプロイするため、N を入力します。
- **What's your project's name?:** プロジェクト名を入力します（デフォルトのままでOK）。
- **In which directory is your code located?:** . (カレントディレクトリ) を選択します。

質問に答えると、Vercelがビルドとデプロイを開始し、完了後に公開されたURLが表示されます。

### 本番環境へのデプロイ

手動デプロイの場合、--prod フラグを付けることで、すぐに本番環境にデプロイできます。

```bash
vercel --prod
```

### デプロイ後の確認

デプロイが成功すると、Vercelから公開URLが発行されます。ブラウザでそのURLにアクセスし、Astroサイトが正常に表示されることを確認してください。

Git連携で設定した場合、今後のサイト更新は、GitHubなどでコードを修正し、git push するだけで自動的にデプロイされるようになります。