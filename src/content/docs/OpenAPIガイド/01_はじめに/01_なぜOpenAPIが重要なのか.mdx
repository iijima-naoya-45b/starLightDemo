---
title: "ãªãœOpenAPIãŒé‡è¦ãªã®ã‹"
label: "ãªãœOpenAPIãŒé‡è¦ãªã®ã‹"
---

## ğŸ“‹ ãªãœOpenAPIãŒé‡è¦ãªã®ã‹

`OpenAPI`ä»•æ§˜ã®é‡è¦æ€§ã¨å®Ÿè£…æ–¹æ³•ã‚’è©³ã—ãè§£èª¬ã—ã¾ã™ã€‚

### ğŸ¯ ãªãœOpenAPIãŒå¿…è¦ãªã®ã‹

#### âŒ APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å•é¡Œç‚¹

**âŒ å•é¡Œã®ã‚ã‚‹å®Ÿè£…:**

```markdown
# APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆæ‰‹å‹•ç®¡ç†ï¼‰

## GET /api/users
ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ã‚’å–å¾—ã—ã¾ã™ã€‚

### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿: page, limit
- ãƒ˜ãƒƒãƒ€ãƒ¼: Authorization

### ãƒ¬ã‚¹ãƒãƒ³ã‚¹
- 200 OK: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒªã‚¹ãƒˆ
- 401 Unauthorized: èªè¨¼ã‚¨ãƒ©ãƒ¼

// å•é¡Œç‚¹:
// 1. æ‰‹å‹•ã§ç®¡ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
// 2. ã‚³ãƒ¼ãƒ‰ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒä¸ä¸€è‡´ã«ãªã‚‹
// 3. æ›´æ–°ãŒå¿˜ã‚Œã‚‰ã‚Œã‚‹
// 4. å½¢å¼ãŒçµ±ä¸€ã•ã‚Œã¦ã„ãªã„
```

**âŒ å•é¡Œç‚¹:**

1. âš ï¸ **æ‰‹å‹•ç®¡ç†**: `ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ`ã‚’æ‰‹å‹•ã§ä½œæˆãƒ»æ›´æ–°ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
2. âŒ **ä¸ä¸€è‡´**: `ã‚³ãƒ¼ãƒ‰`ã¨`ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ`ãŒä¸ä¸€è‡´ã«ãªã‚‹
3. âš ï¸ **æ›´æ–°æ¼ã‚Œ**: `ã‚³ãƒ¼ãƒ‰`å¤‰æ›´æ™‚ã«`ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ`ã‚’æ›´æ–°ã—å¿˜ã‚Œã‚‹
4. âŒ **å½¢å¼ã®ä¸çµ±ä¸€**: ãƒãƒ¼ãƒ ã”ã¨ã«å½¢å¼ãŒç•°ãªã‚‹

**âš ï¸ å½±éŸ¿:**

- ğŸ“‰ é–‹ç™ºåŠ¹ç‡ã®ä½ä¸‹
- âŒ `API`ã®èª¤ç”¨
- â° ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆé–‹ç™ºã®é…å»¶
- ğŸ’¸ `ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚³ã‚¹ãƒˆ`ã®å¢—åŠ 

#### âœ… OpenAPIã«ã‚ˆã‚‹è§£æ±º

**âœ… æ”¹å–„ã•ã‚ŒãŸå®Ÿè£…:**

```yaml
# openapi.yamlï¼ˆã‚³ãƒ¼ãƒ‰ã‹ã‚‰è‡ªå‹•ç”Ÿæˆï¼‰
openapi: 3.0.0
info:
  title: User API
  version: 1.0.0
paths:
  /api/users:
    get:
      summary: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§å–å¾—
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
      responses:
        '200':
          description: æˆåŠŸ
          content:
            application/json:
              schema:
                type: object
                properties:
                  users:
                    type: array
                    items:
                      $ref: '#/components/schemas/User'
        '401':
          description: èªè¨¼ã‚¨ãƒ©ãƒ¼
```

**âœ… ãƒ¡ãƒªãƒƒãƒˆ:**

- âœ… è‡ªå‹•ç”Ÿæˆ: `ã‚³ãƒ¼ãƒ‰`ã‹ã‚‰è‡ªå‹•çš„ã«`ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ`ã‚’ç”Ÿæˆ
- âœ… ä¸€è²«æ€§: `ã‚³ãƒ¼ãƒ‰`ã¨`ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ`ãŒå¸¸ã«ä¸€è‡´
- âœ… æ¨™æº–åŒ–: `OpenAPI`ä»•æ§˜ã«æº–æ‹ 
- âœ… ãƒ„ãƒ¼ãƒ«é€£æº: `Swagger UI`ã€`Postman`ã€ã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ„ãƒ¼ãƒ«ã¨é€£æº

### âœ… OpenAPIã®ãƒ¡ãƒªãƒƒãƒˆ

#### ğŸ“ 1. APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®è‡ªå‹•ç”Ÿæˆ

**ğŸ’¡ å®Ÿè£…ä¾‹:**

```typescript
// FastAPIã§ã®è‡ªå‹•ç”Ÿæˆ
import { FastAPI } from 'fastapi';

const app = FastAPI();

@app.get('/api/users', {
  summary: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§å–å¾—',
  responses: {
    200: {
      description: 'æˆåŠŸ',
      content: {
        'application/json': {
          schema: {
            type: 'object',
            properties: {
              users: {
                type: 'array',
                items: { $ref: '#/components/schemas/User' }
              }
            }
          }
        }
      }
    }
  }
})
async function getUsers() {
  // å®Ÿè£…
}

// OpenAPIã‚¹ã‚­ãƒ¼ãƒãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹
// /docs ã§Swagger UIãŒè¡¨ç¤ºã•ã‚Œã‚‹
```

#### ğŸ”§ 2. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ¼ãƒ‰ã®è‡ªå‹•ç”Ÿæˆ

**ğŸ’¡ å®Ÿè£…ä¾‹:**

```bash
# OpenAPIã‚¹ã‚­ãƒ¼ãƒã‹ã‚‰TypeScriptã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ç”Ÿæˆ
npx @openapitools/openapi-generator-cli generate \
  -i openapi.yaml \
  -g typescript-axios \
  -o src/client

# ç”Ÿæˆã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½¿ç”¨
import { UsersApi } from './client';

const api = new UsersApi();
const users = await api.getUsers();
```

#### ğŸ§ª 3. APIãƒ†ã‚¹ãƒˆã®è‡ªå‹•åŒ–

**ğŸ’¡ å®Ÿè£…ä¾‹:**

```typescript
// OpenAPIã‚¹ã‚­ãƒ¼ãƒã‹ã‚‰ãƒ†ã‚¹ãƒˆã‚’ç”Ÿæˆ
import { validateRequest, validateResponse } from 'openapi-validator';

// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®æ¤œè¨¼
const request = {
  method: 'GET',
  path: '/api/users',
  query: { page: 1, limit: 20 }
};

const isValid = await validateRequest(request, openApiSchema);
if (!isValid) {
  throw new Error('Invalid request');
}

// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®æ¤œè¨¼
const response = await fetch('/api/users?page=1&limit=20');
const data = await response.json();

const isValidResponse = await validateResponse(response, openApiSchema);
if (!isValidResponse) {
  throw new Error('Invalid response');
}
```

### ğŸ“‹ OpenAPIã®åŸºæœ¬æ§‹é€ 

#### ğŸ“ 1. Infoï¼ˆæƒ…å ±ï¼‰

```yaml
openapi: 3.0.0
info:
  title: User API
  version: 1.0.0
  description: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†API
  contact:
    name: API Support
    email: support@example.com
  license:
    name: MIT
```

#### ğŸ–¥ï¸ 2. Serversï¼ˆã‚µãƒ¼ãƒãƒ¼ï¼‰

```yaml
servers:
  - url: https://api.example.com/v1
    description: æœ¬ç•ªç’°å¢ƒ
  - url: https://staging-api.example.com/v1
    description: ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒ
  - url: http://localhost:3000/v1
    description: é–‹ç™ºç’°å¢ƒ
```

#### ğŸŒ 3. Pathsï¼ˆãƒ‘ã‚¹ï¼‰

```yaml
paths:
  /api/users:
    get:
      summary: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§å–å¾—
      operationId: getUsers
      tags:
        - Users
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
      responses:
        '200':
          description: æˆåŠŸ
```

### ğŸ¯ ã¾ã¨ã‚

`OpenAPI`ãŒé‡è¦ãªç†ç”±ï¼š

- âœ… **è‡ªå‹•ç”Ÿæˆ**: `APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ`ã®è‡ªå‹•ç”Ÿæˆ
- âœ… **ä¸€è²«æ€§**: `ã‚³ãƒ¼ãƒ‰`ã¨`ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ`ã®ä¸€è‡´
- âœ… **æ¨™æº–åŒ–**: `OpenAPI`ä»•æ§˜ã«æº–æ‹ 
- âœ… **ãƒ„ãƒ¼ãƒ«é€£æº**: `Swagger UI`ã€`Postman`ã€ã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ„ãƒ¼ãƒ«ã¨é€£æº

é©åˆ‡ãª`OpenAPI`ã®ä½¿ç”¨ã«ã‚ˆã‚Šã€åŠ¹ç‡çš„ã§ä¿å®ˆã—ã‚„ã™ã„`API`ã‚’æ§‹ç¯‰ã§ãã¾ã™ã€‚

