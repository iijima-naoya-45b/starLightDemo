---
title: "stashã¨cherry-pick"
label: "stashã¨cherry-pick"
---

## ğŸ’¾ stashã¨ğŸ’ cherry-pick

ä½œæ¥­ä¸­ã®å¤‰æ›´ã‚’ä¸€æ™‚çš„ã«ä¿å­˜ã™ã‚‹`stash`ã¨ã€ç‰¹å®šã®ã‚³ãƒŸãƒƒãƒˆã‚’é¸æŠçš„ã«é©ç”¨ã™ã‚‹`cherry-pick`ã«ã¤ã„ã¦è©³ã—ãè§£èª¬ã—ã¾ã™ã€‚

### ğŸ’¾ stashï¼ˆã‚¹ã‚¿ãƒƒã‚·ãƒ¥ï¼‰

#### ğŸ“‹ stashã¨ã¯

**ğŸ“‹ å®šç¾©:**
`stash`ã¯ã€ä½œæ¥­ä¸­ã®å¤‰æ›´ã‚’ä¸€æ™‚çš„ã«ä¿å­˜ã—ã€ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ã‚¯ãƒªãƒ¼ãƒ³ãªçŠ¶æ…‹ã«ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚

**åŸºæœ¬çš„ãªä½¿ã„æ–¹:**

```bash
# å¤‰æ›´ã‚’ä¸€æ™‚çš„ã«ä¿å­˜
git stash

# ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä»˜ã‘ã¦ä¿å­˜
git stash save "ä½œæ¥­ä¸­ã®å¤‰æ›´ã‚’ä¿å­˜"

# å¤‰æ›´ã‚’å¾©å…ƒ
git stash pop

# å¤‰æ›´ã‚’å¾©å…ƒï¼ˆstashã‚’å‰Šé™¤ã—ãªã„ï¼‰
git stash apply
```

#### stashã®ä¸€è¦§è¡¨ç¤º

```bash
# stashã®ä¸€è¦§ã‚’è¡¨ç¤º
git stash list

# å‡ºåŠ›ä¾‹:
# stash@{0}: WIP on main: abc1234 æœ€æ–°ã®ã‚³ãƒŸãƒƒãƒˆ
# stash@{1}: WIP on feature: def5678 å‰ã®ã‚³ãƒŸãƒƒãƒˆ

# è©³ç´°æƒ…å ±ã‚’è¡¨ç¤º
git stash show

# ç‰¹å®šã®stashã®è©³ç´°ã‚’è¡¨ç¤º
git stash show stash@{0}

# å·®åˆ†ã‚’è¡¨ç¤º
git stash show -p stash@{0}
```

#### stashã®é©ç”¨ã¨å‰Šé™¤

```bash
# æœ€æ–°ã®stashã‚’é©ç”¨ã—ã¦å‰Šé™¤
git stash pop

# ç‰¹å®šã®stashã‚’é©ç”¨ã—ã¦å‰Šé™¤
git stash pop stash@{1}

# æœ€æ–°ã®stashã‚’é©ç”¨ï¼ˆå‰Šé™¤ã—ãªã„ï¼‰
git stash apply

# ç‰¹å®šã®stashã‚’é©ç”¨ï¼ˆå‰Šé™¤ã—ãªã„ï¼‰
git stash apply stash@{1}

# stashã‚’å‰Šé™¤
git stash drop stash@{0}

# ã™ã¹ã¦ã®stashã‚’å‰Šé™¤
git stash clear
```

#### stashã®å®Ÿè·µä¾‹

**åŸºæœ¬çš„ãªä½¿ç”¨:**

```bash
# 1. ä½œæ¥­ä¸­ã®å¤‰æ›´ã‚’ä¿å­˜
git stash
# Saved working directory and index state WIP on main: abc1234

# 2. ãƒ–ãƒ©ãƒ³ãƒã‚’åˆ‡ã‚Šæ›¿ãˆ
git checkout feature/other-feature

# 3. ä½œæ¥­ã‚’å®Œäº†

# 4. å…ƒã®ãƒ–ãƒ©ãƒ³ãƒã«æˆ»ã‚‹
git checkout main

# 5. ä¿å­˜ã—ãŸå¤‰æ›´ã‚’å¾©å…ƒ
git stash pop
```

**è¤‡æ•°ã®stashã®ç®¡ç†:**

```bash
# 1. æœ€åˆã®å¤‰æ›´ã‚’ä¿å­˜
git stash save "ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã®å®Ÿè£…"

# 2. åˆ¥ã®å¤‰æ›´ã‚’ä¿å­˜
git stash save "å•†å“ä¸€è¦§ã®å®Ÿè£…"

# 3. stashã®ä¸€è¦§ã‚’ç¢ºèª
git stash list
# stash@{0}: On main: å•†å“ä¸€è¦§ã®å®Ÿè£…
# stash@{1}: On main: ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã®å®Ÿè£…

# 4. ç‰¹å®šã®stashã‚’é©ç”¨
git stash apply stash@{1}
```

**æœªè¿½è·¡ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚å«ã‚ã¦ä¿å­˜:**

```bash
# æœªè¿½è·¡ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚å«ã‚ã¦ä¿å­˜
git stash -u
# ã¾ãŸã¯
git stash --include-untracked

# ã™ã¹ã¦ã®å¤‰æ›´ã‚’ä¿å­˜ï¼ˆæœªè¿½è·¡ãƒ•ã‚¡ã‚¤ãƒ«ã€ç„¡è¦–ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚‚å«ã‚€ï¼‰
git stash -a
# ã¾ãŸã¯
git stash --all
```

### cherry-pickï¼ˆãƒã‚§ãƒªãƒ¼ãƒ”ãƒƒã‚¯ï¼‰

#### cherry-pickã¨ã¯

**å®šç¾©:**
`cherry-pick`ã¯ã€åˆ¥ã®ãƒ–ãƒ©ãƒ³ãƒã®ç‰¹å®šã®ã‚³ãƒŸãƒƒãƒˆã‚’ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã«é©ç”¨ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚

**åŸºæœ¬çš„ãªä½¿ã„æ–¹:**

```bash
# ç‰¹å®šã®ã‚³ãƒŸãƒƒãƒˆã‚’é©ç”¨
git cherry-pick <ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥>

# è¤‡æ•°ã®ã‚³ãƒŸãƒƒãƒˆã‚’é©ç”¨
git cherry-pick <ã‚³ãƒŸãƒƒãƒˆ1> <ã‚³ãƒŸãƒƒãƒˆ2>

# ç¯„å›²ã§ã‚³ãƒŸãƒƒãƒˆã‚’é©ç”¨
git cherry-pick <é–‹å§‹ã‚³ãƒŸãƒƒãƒˆ>..<çµ‚äº†ã‚³ãƒŸãƒƒãƒˆ>
```

#### cherry-pickã®å®Ÿè·µä¾‹

**åŸºæœ¬çš„ãªä½¿ç”¨:**

```bash
# 1. ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’ç¢ºèª
git log --oneline
# abc1234 ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ©Ÿèƒ½ã‚’å®Ÿè£…
# def5678 å•†å“ä¸€è¦§æ©Ÿèƒ½ã‚’å®Ÿè£…
# ghi9012 ãƒã‚°ä¿®æ­£

# 2. ç‰¹å®šã®ã‚³ãƒŸãƒƒãƒˆã‚’é©ç”¨
git checkout main
git cherry-pick abc1234

# 3. è¤‡æ•°ã®ã‚³ãƒŸãƒƒãƒˆã‚’é©ç”¨
git cherry-pick abc1234 def5678

# 4. ç¯„å›²ã§ã‚³ãƒŸãƒƒãƒˆã‚’é©ç”¨
git cherry-pick abc1234..ghi9012
```

**ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã®è§£æ±º:**

```bash
# cherry-pickæ™‚ã«ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãŒç™ºç”Ÿ
git cherry-pick abc1234
# error: could not apply abc1234
# hint: after resolving the conflicts, mark the corrected paths

# ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
git status

# ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã‚’è§£æ±º
# ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãƒãƒ¼ã‚«ãƒ¼ã‚’å‰Šé™¤

# è§£æ±ºå¾Œã€ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã¨ç¶šè¡Œ
git add .
git cherry-pick --continue

# cherry-pickã‚’ä¸­æ­¢ã™ã‚‹å ´åˆ
git cherry-pick --abort
```

**ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å¤‰æ›´:**

```bash
# ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç·¨é›†ã—ã¦é©ç”¨
git cherry-pick -e abc1234
# ã¾ãŸã¯
git cherry-pick --edit abc1234

# ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã›ãšã«é©ç”¨
git cherry-pick -n abc1234
# ã¾ãŸã¯
git cherry-pick --no-commit abc1234
```

### å®Ÿè·µçš„ãªä½¿ç”¨ä¾‹

#### 1. ç·Šæ€¥ä¿®æ­£ã‚’åˆ¥ãƒ–ãƒ©ãƒ³ãƒã«é©ç”¨

```bash
# 1. mainãƒ–ãƒ©ãƒ³ãƒã§ç·Šæ€¥ä¿®æ­£
git checkout main
git commit -m "ç·Šæ€¥ãƒã‚°ä¿®æ­£"
# ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥: abc1234

# 2. developãƒ–ãƒ©ãƒ³ãƒã«ã‚‚åŒã˜ä¿®æ­£ã‚’é©ç”¨
git checkout develop
git cherry-pick abc1234
```

#### 2. ç‰¹å®šã®æ©Ÿèƒ½ã ã‘ã‚’åˆ¥ãƒ–ãƒ©ãƒ³ãƒã«é©ç”¨

```bash
# 1. featureãƒ–ãƒ©ãƒ³ãƒã®ç‰¹å®šã®ã‚³ãƒŸãƒƒãƒˆã‚’ç¢ºèª
git checkout feature/user-auth
git log --oneline
# abc1234 ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ©Ÿèƒ½ã‚’å®Ÿè£…
# def5678 ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ã‚’å®Ÿè£…
# ghi9012 ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½ã‚’å®Ÿè£…

# 2. ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ã ã‘ã‚’mainãƒ–ãƒ©ãƒ³ãƒã«é©ç”¨
git checkout main
git cherry-pick def5678
```

#### 3. ä½œæ¥­ä¸­ã®å¤‰æ›´ã‚’ä¸€æ™‚ä¿å­˜ã—ã¦ãƒ–ãƒ©ãƒ³ãƒã‚’åˆ‡ã‚Šæ›¿ãˆ

```bash
# 1. ä½œæ¥­ä¸­ã®å¤‰æ›´ã‚’ä¿å­˜
git stash save "ä½œæ¥­ä¸­ã®å¤‰æ›´"

# 2. åˆ¥ã®ãƒ–ãƒ©ãƒ³ãƒã«åˆ‡ã‚Šæ›¿ãˆã¦ä½œæ¥­
git checkout feature/urgent-fix
# ç·Šæ€¥ä¿®æ­£ã‚’å®Ÿæ–½
git add .
git commit -m "ç·Šæ€¥ä¿®æ­£"
git push origin feature/urgent-fix

# 3. å…ƒã®ãƒ–ãƒ©ãƒ³ãƒã«æˆ»ã‚‹
git checkout feature/original-work

# 4. ä¿å­˜ã—ãŸå¤‰æ›´ã‚’å¾©å…ƒ
git stash pop
```

### ã¾ã¨ã‚

stashã¨cherry-pickã®ãƒã‚¤ãƒ³ãƒˆï¼š

- **stash**: ä½œæ¥­ä¸­ã®å¤‰æ›´ã‚’ä¸€æ™‚ä¿å­˜ã€ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ã‚¯ãƒªãƒ¼ãƒ³ãªçŠ¶æ…‹ã«ã™ã‚‹
- **stashã®ç®¡ç†**: ä¸€è¦§è¡¨ç¤ºã€é©ç”¨ã€å‰Šé™¤ã€è¤‡æ•°ã®stashã®ç®¡ç†
- **cherry-pick**: ç‰¹å®šã®ã‚³ãƒŸãƒƒãƒˆã‚’é¸æŠçš„ã«é©ç”¨
- **cherry-pickã®å®Ÿè·µ**: åŸºæœ¬çš„ãªä½¿ç”¨ã€ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã®è§£æ±ºã€ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å¤‰æ›´
- **å®Ÿè·µçš„ãªä½¿ç”¨ä¾‹**: ç·Šæ€¥ä¿®æ­£ã®é©ç”¨ã€ç‰¹å®šæ©Ÿèƒ½ã®é©ç”¨ã€ä½œæ¥­ä¸­ã®å¤‰æ›´ã®ä¸€æ™‚ä¿å­˜

é©åˆ‡ã«stashã¨cherry-pickã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€æŸ”è»Ÿã«é–‹ç™ºã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

