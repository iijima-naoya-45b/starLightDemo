---
title: "パフォーマンス最適化"
label: "パフォーマンス最適化"
---

## Laravelパフォーマンス最適化

### キャッシング

```php
<?php
// 設定のキャッシュ
php artisan config:cache

// ルートのキャッシュ
php artisan route:cache

// ビューのキャッシュ
php artisan view:cache

// すべてのキャッシュ
php artisan optimize
```

### クエリの最適化

```php
<?php
// Eager Loading（N+1問題の解決）
$users = User::with('posts')->get();

// 特定のカラムのみ取得
$users = User::select('id', 'name', 'email')->get();

// チャンク処理
User::chunk(100, function ($users) {
    foreach ($users as $user) {
        // 処理
    }
});
```

### データベースインデックス

```php
<?php
// マイグレーションでインデックスを追加
public function up()
{
    Schema::table('users', function (Blueprint $table) {
        $table->index('email');
        $table->index(['name', 'email']);  // 複合インデックス
    });
}
```

### 実践例: キャッシュの活用

```php
<?php
// キャッシュを使用
$users = Cache::remember('users', 3600, function () {
    return User::all();
});

// キャッシュの削除
Cache::forget('users');
```

