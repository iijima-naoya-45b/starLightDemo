---
title: "ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ"
label: "ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ"
---

## ğŸ“ Spring Bootãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ

Spring Bootãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã¯ã€`Maven`ã‚„`Gradle`ã®æ¨™æº–çš„ãªæ§‹é€ ã«åŸºã¥ã„ã¦ãŠã‚Šã€é–‹ç™ºè€…ãŒãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¢ã—ã‚„ã™ãã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å½¹å‰²ã‚’ç†è§£ã—ã‚„ã™ããªã‚‹ã‚ˆã†è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚

### ğŸ“‹ æ¨™æº–çš„ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
my-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/                    # Javaã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”‚   â”‚   â”‚   â””â”€â”€ com/
â”‚   â”‚   â”‚       â””â”€â”€ example/
â”‚   â”‚   â”‚           â””â”€â”€ myapp/
â”‚   â”‚   â”‚               â”œâ”€â”€ MyAppApplication.java  # ãƒ¡ã‚¤ãƒ³ã‚¯ãƒ©ã‚¹
â”‚   â”‚   â”‚               â”œâ”€â”€ controller/            # ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼å±¤
â”‚   â”‚   â”‚               â”‚   â””â”€â”€ UserController.java
â”‚   â”‚   â”‚               â”œâ”€â”€ service/               # ã‚µãƒ¼ãƒ“ã‚¹å±¤
â”‚   â”‚   â”‚               â”‚   â””â”€â”€ UserService.java
â”‚   â”‚   â”‚               â”œâ”€â”€ repository/            # ãƒªãƒã‚¸ãƒˆãƒªå±¤
â”‚   â”‚   â”‚               â”‚   â””â”€â”€ UserRepository.java
â”‚   â”‚   â”‚               â”œâ”€â”€ model/                # ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£/ãƒ¢ãƒ‡ãƒ«å±¤
â”‚   â”‚   â”‚               â”‚   â””â”€â”€ User.java
â”‚   â”‚   â”‚               â”œâ”€â”€ dto/                  # ãƒ‡ãƒ¼ã‚¿è»¢é€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
â”‚   â”‚   â”‚               â”‚   â””â”€â”€ UserDTO.java
â”‚   â”‚   â”‚               â”œâ”€â”€ config/               # è¨­å®šã‚¯ãƒ©ã‚¹
â”‚   â”‚   â”‚               â”‚   â””â”€â”€ DatabaseConfig.java
â”‚   â”‚   â”‚               â”œâ”€â”€ exception/            # ä¾‹å¤–ã‚¯ãƒ©ã‚¹
â”‚   â”‚   â”‚               â”‚   â””â”€â”€ ResourceNotFoundException.java
â”‚   â”‚   â”‚               â””â”€â”€ util/                 # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹
â”‚   â”‚   â”‚                   â””â”€â”€ DateUtil.java
â”‚   â”‚   â””â”€â”€ resources/               # ãƒªã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”‚       â”œâ”€â”€ application.properties  # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
â”‚   â”‚       â”œâ”€â”€ application-dev.properties  # é–‹ç™ºç’°å¢ƒè¨­å®š
â”‚   â”‚       â”œâ”€â”€ application-prod.properties  # æœ¬ç•ªç’°å¢ƒè¨­å®š
â”‚   â”‚       â”œâ”€â”€ static/              # é™çš„ãƒªã‚½ãƒ¼ã‚¹ï¼ˆCSSã€JSã€ç”»åƒï¼‰
â”‚   â”‚       â”œâ”€â”€ templates/          # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆThymeleafãªã©ï¼‰
â”‚   â”‚       â””â”€â”€ db/
â”‚   â”‚           â””â”€â”€ migration/       # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆFlyway/Liquibaseï¼‰
â”‚   â”‚               â””â”€â”€ V1__init.sql
â”‚   â””â”€â”€ test/                       # ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
â”‚       â”œâ”€â”€ java/
â”‚       â”‚   â””â”€â”€ com/
â”‚       â”‚       â””â”€â”€ example/
â”‚       â”‚           â””â”€â”€ myapp/
â”‚       â”‚               â”œâ”€â”€ MyAppApplicationTests.java
â”‚       â”‚               â”œâ”€â”€ controller/
â”‚       â”‚               â”œâ”€â”€ service/
â”‚       â”‚               â””â”€â”€ repository/
â”‚       â””â”€â”€ resources/
â”‚           â””â”€â”€ application-test.properties
â”œâ”€â”€ target/                         # Mavenã®ãƒ“ãƒ«ãƒ‰å‡ºåŠ›ï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
â”œâ”€â”€ pom.xml                         # Mavenã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ README.md
```

### ä¸»è¦ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å½¹å‰²

#### `src/main/java/`

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ¡ã‚¤ãƒ³ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’æ ¼ç´ã—ã¾ã™ã€‚

**ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ§‹é€ ã®ä¾‹:**

```java
com.example.myapp/
â”œâ”€â”€ MyAppApplication.java      # Spring Bootã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ controller/                # REST APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’å®šç¾©
â”œâ”€â”€ service/                    # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…
â”œâ”€â”€ repository/                 # ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤
â”œâ”€â”€ model/                      # ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚¯ãƒ©ã‚¹
â”œâ”€â”€ dto/                        # ãƒ‡ãƒ¼ã‚¿è»¢é€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
â”œâ”€â”€ config/                     # è¨­å®šã‚¯ãƒ©ã‚¹
â”œâ”€â”€ exception/                  # ã‚«ã‚¹ã‚¿ãƒ ä¾‹å¤–
â””â”€â”€ util/                       # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹
```

#### `src/main/resources/`

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚„é™çš„ãƒªã‚½ãƒ¼ã‚¹ã‚’æ ¼ç´ã—ã¾ã™ã€‚

**`application.properties`ã®ä¾‹:**

```properties
# ã‚µãƒ¼ãƒãƒ¼è¨­å®š
server.port=8080
server.servlet.context-path=/api

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®š
spring.datasource.url=jdbc:postgresql://localhost:5432/mydb
spring.datasource.username=myuser
spring.datasource.password=mypassword
spring.datasource.driver-class-name=org.postgresql.Driver

# JPAè¨­å®š
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# ãƒ­ã‚®ãƒ³ã‚°è¨­å®š
logging.level.com.example.myapp=DEBUG
logging.level.org.springframework.web=INFO
```

#### `src/test/java/`

ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ ¼ç´ã—ã¾ã™ã€‚ãƒ¡ã‚¤ãƒ³ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¨åŒã˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ§‹é€ ã‚’ç¶­æŒã—ã¾ã™ã€‚

**ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã®ä¾‹:**

```java
@SpringBootTest
class UserServiceTest {
    
    @Autowired
    private UserService userService;
    
    @Test
    void testFindUser() {
        // ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
    }
}
```

### ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

Spring Bootã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€é€šå¸¸ã€**ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**ã«åŸºã¥ã„ã¦æ§‹æˆã•ã‚Œã¾ã™ã€‚

#### 1. Controllerå±¤ï¼ˆ`controller/`ï¼‰

HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘å–ã‚Šã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™å±¤ã§ã™ã€‚

```java
@RestController
@RequestMapping("/api/users")
public class UserController {
    
    @Autowired
    private UserService userService;
    
    @GetMapping("/{id}")
    public ResponseEntity<UserDTO> getUser(@PathVariable Long id) {
        UserDTO user = userService.findById(id);
        return ResponseEntity.ok(user);
    }
}
```

#### 2. Serviceå±¤ï¼ˆ`service/`ï¼‰

ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…ã™ã‚‹å±¤ã§ã™ã€‚

```java
@Service
@Transactional
public class UserService {
    
    @Autowired
    private UserRepository userRepository;
    
    public UserDTO findById(Long id) {
        User user = userRepository.findById(id)
            .orElseThrow(() -> new ResourceNotFoundException("User", id));
        return convertToDTO(user);
    }
    
    private UserDTO convertToDTO(User user) {
        // å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯
    }
}
```

#### 3. Repositoryå±¤ï¼ˆ`repository/`ï¼‰

ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ã‚’æ‹…å½“ã™ã‚‹å±¤ã§ã™ã€‚

```java
@Repository
public interface UserRepository extends JpaRepository<User, Long> {
    Optional<User> findByEmail(String email);
    List<User> findByNameContaining(String name);
}
```

#### 4. Modelå±¤ï¼ˆ`model/`ï¼‰

ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã™ã‚‹å±¤ã§ã™ã€‚

```java
@Entity
@Table(name = "users")
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    @Column(nullable = false)
    private String name;
    
    @Column(unique = true, nullable = false)
    private String email;
    
    // getter/setter
}
```

### ç’°å¢ƒåˆ¥è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

ç’°å¢ƒã”ã¨ã«ç•°ãªã‚‹è¨­å®šã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€`application-{profile}.properties`ã¨ã„ã†å‘½åè¦å‰‡ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

```
resources/
â”œâ”€â”€ application.properties          # å…±é€šè¨­å®š
â”œâ”€â”€ application-dev.properties      # é–‹ç™ºç’°å¢ƒ
â”œâ”€â”€ application-test.properties     # ãƒ†ã‚¹ãƒˆç’°å¢ƒ
â””â”€â”€ application-prod.properties     # æœ¬ç•ªç’°å¢ƒ
```

**ä½¿ç”¨ä¾‹:**

```bash
# é–‹ç™ºç’°å¢ƒã§å®Ÿè¡Œ
java -jar my-app.jar --spring.profiles.active=dev

# æœ¬ç•ªç’°å¢ƒã§å®Ÿè¡Œ
java -jar my-app.jar --spring.profiles.active=prod
```

### ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

#### 1. ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ§‹é€ ã®ä¸€è²«æ€§

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã§ä¸€è²«ã—ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ§‹é€ ã‚’ç¶­æŒã—ã¾ã™ã€‚

```
com.example.myapp/
â”œâ”€â”€ feature1/
â”‚   â”œâ”€â”€ controller/
â”‚   â”œâ”€â”€ service/
â”‚   â”œâ”€â”€ repository/
â”‚   â””â”€â”€ model/
â””â”€â”€ feature2/
    â”œâ”€â”€ controller/
    â”œâ”€â”€ service/
    â”œâ”€â”€ repository/
    â””â”€â”€ model/
```

#### 2. ãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ã®ä¾å­˜é–¢ä¿‚

ä¾å­˜é–¢ä¿‚ã®æ–¹å‘ã‚’æ˜ç¢ºã«ã—ã¾ã™ï¼š

- **Controller â†’ Service â†’ Repository â†’ Model**
- ä¸‹ä½ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¯ä¸Šä½ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ä¾å­˜ã—ãªã„

#### 3. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ç®¡ç†

æ©Ÿå¯†æƒ…å ±ï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã€APIã‚­ãƒ¼ãªã©ï¼‰ã¯ç’°å¢ƒå¤‰æ•°ã‚„è¨­å®šã‚µãƒ¼ãƒãƒ¼ã§ç®¡ç†ã—ã¾ã™ã€‚

```properties
# application.properties
spring.datasource.password=${DB_PASSWORD}
```

#### 4. ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®é…ç½®

ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã¯ã€ãƒ¡ã‚¤ãƒ³ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¨åŒã˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ§‹é€ ã‚’ç¶­æŒã—ã¾ã™ã€‚

```
src/test/java/com/example/myapp/
â”œâ”€â”€ controller/
â”œâ”€â”€ service/
â””â”€â”€ repository/
```

### ã¾ã¨ã‚

Spring Bootãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã¯ã€ä»¥ä¸‹ã®åŸå‰‡ã«åŸºã¥ã„ã¦ã„ã¾ã™ï¼š

- **æ¨™æº–çš„ãªæ§‹é€ **: Maven/Gradleã®æ¨™æº–æ§‹é€ ã«æº–æ‹ 
- **ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**: è²¬å‹™ã®åˆ†é›¢ã¨ä¿å®ˆæ€§ã®å‘ä¸Š
- **ç’°å¢ƒåˆ¥è¨­å®š**: ç’°å¢ƒã”ã¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®åˆ†é›¢
- **ä¸€è²«æ€§**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã§ã®ä¸€è²«ã—ãŸæ§‹é€ 

é©åˆ‡ãªãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã«ã‚ˆã‚Šã€ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ã€ä¿å®ˆæ€§ã€ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ãŒå‘ä¸Šã—ã€ãƒãƒ¼ãƒ é–‹ç™ºã®åŠ¹ç‡ã‚‚é«˜ã¾ã‚Šã¾ã™ã€‚


