---
title: "Capybara"
label: "Capybara"
---

## Capybaraã¨ã¯

Capybaraã¯ã€ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®**å—ã‘å…¥ã‚Œãƒ†ã‚¹ãƒˆï¼ˆE2Eãƒ†ã‚¹ãƒˆï¼‰**ã‚’Rubyã§æ›¸ããŸã‚ã®ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ–ãƒ©ã‚¦ã‚¶ã§è¡Œã†æ“ä½œï¼ˆãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ã€ãƒ•ã‚©ãƒ¼ãƒ ã¸ã®å…¥åŠ›ãªã©ï¼‰ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã—ã€ãã®çµæœã‚’æ¤œè¨¼ã§ãã¾ã™ã€‚RSpecã¨çµ„ã¿åˆã‚ã›ã¦ä½¿ã†ã®ãŒä¸€èˆ¬çš„ã§ã™ã€‚

### ãªãœCapybaraã‚’ä½¿ã†ã®ã‹ï¼Ÿ

Capybaraã¯ã€å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã«è¿‘ã„å½¢ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ­£ã—ãæ©Ÿèƒ½ã™ã‚‹ã‹ã‚’ç¢ºèªã§ãã¾ã™ã€‚è‡ªç„¶è¨€èªã«è¿‘ã„ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†ãŸã‚ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãŒèª­ã¿ã‚„ã™ããªã‚Šã¾ã™ã€‚ã¾ãŸã€èƒŒå¾Œã®ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ã§ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ç‰¹å®šã®ãƒ–ãƒ©ã‚¦ã‚¶ã«ä¾å­˜ã•ã›ãªã„æŸ”è»Ÿãªãƒ†ã‚¹ãƒˆãŒå¯èƒ½ã§ã™ã€‚

**ä¸»ãªåˆ©ç‚¹:**

- **ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã®ãƒ†ã‚¹ãƒˆ**: å®Ÿéš›ã®ãƒ–ãƒ©ã‚¦ã‚¶æ“ä½œã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã§ãã‚‹
- **èª­ã¿ã‚„ã™ã„ã‚³ãƒ¼ãƒ‰**: è‡ªç„¶è¨€èªã«è¿‘ã„ãƒ¡ã‚½ãƒƒãƒ‰åã§ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãŒç†è§£ã—ã‚„ã™ã„
- **ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã®åˆ‡ã‚Šæ›¿ãˆ**: åŒã˜ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã§ç•°ãªã‚‹ãƒ–ãƒ©ã‚¦ã‚¶ã‚„ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶ã‚’åˆ©ç”¨å¯èƒ½
- **Railsã¨ã®çµ±åˆ**: Railsã®ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆã¨çµ±åˆã•ã‚Œã¦ãŠã‚Šã€è¨­å®šãŒç°¡å˜

## Capybaraã®åŸºæœ¬æ“ä½œ

Capybaraã®ãƒ†ã‚¹ãƒˆã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ“ä½œã‚’æ¨¡å€£ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã§æ§‹æˆã•ã‚Œã¾ã™ã€‚ä»¥ä¸‹ã«ä¸»è¦ãªãƒ¡ã‚½ãƒƒãƒ‰ã¨ãã®è©³ç´°ãªä½¿ã„æ–¹ã‚’èª¬æ˜ã—ã¾ã™ã€‚

### ãƒšãƒ¼ã‚¸ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹

```ruby
# æŒ‡å®šã•ã‚ŒãŸURLã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™
visit '/login'

# Railsã®ãƒ‘ã‚¹ãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚‚ä½¿ç”¨å¯èƒ½
visit new_user_session_path

# ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚‚æŒ‡å®šå¯èƒ½
visit '/users?page=2&per_page=10'
```

**æ³¨æ„ç‚¹:**

- `visit`ã¯ãƒšãƒ¼ã‚¸ã®èª­ã¿è¾¼ã¿ãŒå®Œäº†ã™ã‚‹ã¾ã§å¾…æ©Ÿã—ã¾ã™
- JavaScriptã‚’ä½¿ã£ãŸå‹•çš„ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®èª­ã¿è¾¼ã¿ã‚‚è€ƒæ…®ã•ã‚Œã¾ã™ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å¾…æ©Ÿæ™‚é–“ã¯è¨­å®šå¯èƒ½ï¼‰

### ãƒ•ã‚©ãƒ¼ãƒ ã¸ã®å…¥åŠ›

```ruby
# ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å…¥åŠ›
fill_in 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹', with: 'test@example.com'

# ãƒ©ãƒ™ãƒ«åã§ã¯ãªãã€nameå±æ€§ã‚„idå±æ€§ã§ã‚‚æŒ‡å®šå¯èƒ½
fill_in 'user_email', with: 'test@example.com'

# ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹ã®é¸æŠ
select 'æ±äº¬éƒ½', from: 'éƒ½é“åºœçœŒ'

# ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®é¸æŠ/è§£é™¤
check 'åˆ©ç”¨è¦ç´„ã«åŒæ„ã™ã‚‹'
uncheck 'ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ¬ã‚¿ãƒ¼ã‚’å—ã‘å–ã‚‹'

# ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ã®é¸æŠ
choose 'ç”·æ€§'

# ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
attach_file 'ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒ', Rails.root.join('spec', 'fixtures', 'images', 'avatar.jpg')
```

**å®Ÿè·µçš„ãªä¾‹:**

```ruby
# è¤‡é›‘ãªãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ã®ä¾‹
describe 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ' do
  it 'ã™ã¹ã¦ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å…¥åŠ›ã—ã¦ç™»éŒ²ã§ãã‚‹ã“ã¨' do
    visit new_user_registration_path
    
    # åŸºæœ¬æƒ…å ±
    fill_in 'ãƒ¦ãƒ¼ã‚¶ãƒ¼å', with: 'ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼'
    fill_in 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹', with: 'test@example.com'
    fill_in 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰', with: 'password123'
    fill_in 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆç¢ºèªï¼‰', with: 'password123'
    
    # ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹
    select '1990', from: 'ç”Ÿå¹´æœˆæ—¥ï¼ˆå¹´ï¼‰'
    select '1æœˆ', from: 'ç”Ÿå¹´æœˆæ—¥ï¼ˆæœˆï¼‰'
    select '1æ—¥', from: 'ç”Ÿå¹´æœˆæ—¥ï¼ˆæ—¥ï¼‰'
    
    # ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹
    check 'åˆ©ç”¨è¦ç´„ã«åŒæ„ã™ã‚‹'
    
    # é€ä¿¡
    click_button 'ç™»éŒ²'
    
    expect(page).to have_content('ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç™»éŒ²ãŒå®Œäº†ã—ã¾ã—ãŸ')
  end
end
```

### ãƒœã‚¿ãƒ³ã‚„ãƒªãƒ³ã‚¯ã®ã‚¯ãƒªãƒƒã‚¯

```ruby
# ãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ï¼ˆãƒ†ã‚­ã‚¹ãƒˆã§æŒ‡å®šï¼‰
click_button 'ãƒ­ã‚°ã‚¤ãƒ³'

# ãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ï¼ˆidã‚„nameå±æ€§ã§æŒ‡å®šï¼‰
click_button 'submit-button'

# ãƒªãƒ³ã‚¯ã®ã‚¯ãƒªãƒƒã‚¯
click_link 'è©³ç´°ã‚’è¦‹ã‚‹'

# ãƒªãƒ³ã‚¯ã®ãƒ†ã‚­ã‚¹ãƒˆãŒéƒ¨åˆ†ä¸€è‡´ã§ã‚‚å¯èƒ½
click_link 'è©³ç´°'

# ç”»åƒãƒªãƒ³ã‚¯ã®ã‚¯ãƒªãƒƒã‚¯
click_link 'ãƒ­ã‚´'

# ç‰¹å®šã®è¦ç´ ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼ˆCSSã‚»ãƒ¬ã‚¯ã‚¿ã§æŒ‡å®šï¼‰
find('.modal-close').click
```

**å®Ÿè·µçš„ãªä¾‹:**

```ruby
describe 'ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³' do
  it 'ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰å„ãƒšãƒ¼ã‚¸ã«é·ç§»ã§ãã‚‹ã“ã¨' do
    visit root_path
    
    # ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ã
    click_button 'ãƒ¡ãƒ‹ãƒ¥ãƒ¼'
    
    # ãƒ¡ãƒ‹ãƒ¥ãƒ¼å†…ã®ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯
    within '.dropdown-menu' do
      click_link 'ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«'
    end
    
    expect(page).to have_current_path(user_profile_path)
  end
end
```

### ãƒšãƒ¼ã‚¸å†…å®¹ã®æ¤œè¨¼

```ruby
# ãƒ†ã‚­ã‚¹ãƒˆã®å­˜åœ¨ç¢ºèª
expect(page).to have_content('ãƒ­ã‚°ã‚¤ãƒ³ã«æˆåŠŸã—ã¾ã—ãŸã€‚')

# ãƒ†ã‚­ã‚¹ãƒˆã®éå­˜åœ¨ç¢ºèª
expect(page).not_to have_content('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ')

# CSSã‚»ãƒ¬ã‚¯ã‚¿ã§ã®è¦ç´ ã®å­˜åœ¨ç¢ºèª
expect(page).to have_css('.success-message', visible: true)

# è¦ç´ ã®éè¡¨ç¤ºç¢ºèª
expect(page).not_to have_css('.error-message', visible: true)

# ãƒªãƒ³ã‚¯ã®å­˜åœ¨ç¢ºèª
expect(page).to have_link('è©³ç´°ã‚’è¦‹ã‚‹', href: '/users/1')

# ãƒœã‚¿ãƒ³ã®å­˜åœ¨ç¢ºèª
expect(page).to have_button('é€ä¿¡', disabled: false)

# ãƒ•ã‚©ãƒ¼ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ç¢ºèª
expect(page).to have_field('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹', with: 'test@example.com')

# ãƒ†ãƒ¼ãƒ–ãƒ«ã®å†…å®¹ç¢ºèª
expect(page).to have_table('users-table', with_rows: [
  ['åå‰', 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹'],
  ['ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼', 'test@example.com']
])
```

**å®Ÿè·µçš„ãªä¾‹:**

```ruby
describe 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ãƒšãƒ¼ã‚¸' do
  it 'ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨' do
    user = create(:user, name: 'ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼', email: 'test@example.com')
    visit users_path
    
    # ãƒ†ãƒ¼ãƒ–ãƒ«å†…ã®å†…å®¹ã‚’ç¢ºèª
    within 'table' do
      expect(page).to have_content('ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼')
      expect(page).to have_content('test@example.com')
    end
    
    # ãƒªãƒ³ã‚¯ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
    expect(page).to have_link('è©³ç´°', href: user_path(user))
  end
end
```

### è¦ç´ ã®æ¤œç´¢ã¨æ“ä½œ

```ruby
# CSSã‚»ãƒ¬ã‚¯ã‚¿ã§è¦ç´ ã‚’æ¤œç´¢
element = find('.user-card')

# XPathã§è¦ç´ ã‚’æ¤œç´¢
element = find(:xpath, "//div[@class='user-card']")

# è¦ç´ å†…ã§ã®æ“ä½œï¼ˆwithinãƒ–ãƒ­ãƒƒã‚¯ï¼‰
within '.user-card' do
  click_link 'ç·¨é›†'
  expect(page).to have_content('ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®ç·¨é›†')
end

# è¤‡æ•°ã®è¦ç´ ã‚’æ¤œç´¢
all('.user-card').each do |card|
  within card do
    expect(page).to have_content('ãƒ¦ãƒ¼ã‚¶ãƒ¼')
  end
end

# è¦ç´ ã®å±æ€§ã‚’å–å¾—
link = find('a.user-link')
expect(link[:href]).to eq('/users/1')
expect(link.text).to eq('è©³ç´°ã‚’è¦‹ã‚‹')
```

**å®Ÿè·µçš„ãªä¾‹:**

```ruby
describe 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚«ãƒ¼ãƒ‰' do
  it 'å„ã‚«ãƒ¼ãƒ‰ã‹ã‚‰è©³ç´°ãƒšãƒ¼ã‚¸ã«é·ç§»ã§ãã‚‹ã“ã¨' do
    users = create_list(:user, 3)
    visit users_path
    
    # å„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚«ãƒ¼ãƒ‰ã‚’ç¢ºèª
    all('.user-card').each_with_index do |card, index|
      within card do
        expect(page).to have_content(users[index].name)
        click_link 'è©³ç´°'
      end
      
      expect(page).to have_current_path(user_path(users[index]))
      visit users_path # ä¸€è¦§ã«æˆ»ã‚‹
    end
  end
end
```

## ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã®è¨­å®šã¨ä½¿ã„åˆ†ã‘

Capybaraã¯ã€ç•°ãªã‚‹ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã‚’ä½¿ç”¨ã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã‚’æ“ä½œã§ãã¾ã™ã€‚å„ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã®ç‰¹å¾´ã¨ä½¿ã„åˆ†ã‘ã‚’ç†è§£ã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚

### ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‰ãƒ©ã‚¤ãƒãƒ¼ï¼ˆRack::Testï¼‰

```ruby
# spec/rails_helper.rb
Capybara.default_driver = :rack_test
```

**ç‰¹å¾´:**

- **é«˜é€Ÿ**: JavaScriptã‚’å®Ÿè¡Œã—ãªã„ãŸã‚ã€éå¸¸ã«é«˜é€Ÿ
- **è»½é‡**: ãƒ–ãƒ©ã‚¦ã‚¶ã‚’èµ·å‹•ã—ãªã„ãŸã‚ã€ãƒªã‚½ãƒ¼ã‚¹æ¶ˆè²»ãŒå°‘ãªã„
- **åˆ¶é™**: JavaScriptã‚’ä½¿ã£ãŸå‹•çš„ãªæ“ä½œã¯ãƒ†ã‚¹ãƒˆã§ããªã„

**ä½¿ç”¨ä¾‹:**

```ruby
# JavaScriptã‚’ä½¿ã‚ãªã„åŸºæœ¬çš„ãªãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ãªã©
RSpec.describe 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²', type: :system do
  it 'ãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ç™»éŒ²ã§ãã‚‹ã“ã¨' do
    visit new_user_registration_path
    fill_in 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹', with: 'test@example.com'
    fill_in 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰', with: 'password123'
    click_button 'ç™»éŒ²'
    
    expect(page).to have_content('ç™»éŒ²ãŒå®Œäº†ã—ã¾ã—ãŸ')
  end
end
```

### Seleniumãƒ‰ãƒ©ã‚¤ãƒãƒ¼ï¼ˆå®Ÿéš›ã®ãƒ–ãƒ©ã‚¦ã‚¶ï¼‰

```ruby
# spec/support/capybara.rb
require 'capybara/rails'
require 'selenium-webdriver'

Capybara.register_driver :selenium_chrome do |app|
  Capybara::Selenium::Driver.new(app, browser: :chrome)
end

Capybara.javascript_driver = :selenium_chrome
```

**ç‰¹å¾´:**

- **å®Ÿéš›ã®ãƒ–ãƒ©ã‚¦ã‚¶**: Chromeã‚„Firefoxãªã©ã®å®Ÿéš›ã®ãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒ†ã‚¹ãƒˆ
- **JavaScriptå¯¾å¿œ**: JavaScriptã‚’ä½¿ã£ãŸå‹•çš„ãªæ“ä½œã‚‚ãƒ†ã‚¹ãƒˆå¯èƒ½
- **é…ã„**: ãƒ–ãƒ©ã‚¦ã‚¶ã‚’èµ·å‹•ã™ã‚‹ãŸã‚ã€ãƒ†ã‚¹ãƒˆå®Ÿè¡ŒãŒé…ã„
- **ãƒªã‚½ãƒ¼ã‚¹æ¶ˆè²»**: ãƒ¡ãƒ¢ãƒªã‚„CPUã‚’å¤šãæ¶ˆè²»ã™ã‚‹

**ä½¿ç”¨ä¾‹:**

```ruby
# JavaScriptã‚’ä½¿ã£ãŸæ“ä½œã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹å ´åˆ
RSpec.describe 'ãƒ¢ãƒ¼ãƒ€ãƒ«', type: :system, js: true do
  it 'ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‹é–‰ã§ãã‚‹ã“ã¨' do
    visit root_path
    
    click_button 'ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‹ã'
    expect(page).to have_css('.modal', visible: true)
    
    click_button 'é–‰ã˜ã‚‹'
    expect(page).not_to have_css('.modal', visible: true)
  end
end
```

### Headless Chromeï¼ˆæ¨å¥¨ï¼‰

```ruby
# spec/support/capybara.rb
require 'capybara/rails'
require 'selenium-webdriver'

Capybara.register_driver :selenium_chrome_headless do |app|
  options = Selenium::WebDriver::Chrome::Options.new
  options.add_argument('--headless') # ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰
  options.add_argument('--no-sandbox') # CIç’°å¢ƒã§ã®å®Ÿè¡Œã«å¿…è¦
  options.add_argument('--disable-dev-shm-usage') # ãƒ¡ãƒ¢ãƒªä¸è¶³ã‚¨ãƒ©ãƒ¼ã‚’é˜²ã
  options.add_argument('--disable-gpu') # GPUã‚’ç„¡åŠ¹åŒ–
  options.add_argument('--window-size=1920,1080') # ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚µã‚¤ã‚ºã‚’æŒ‡å®š
  
  Capybara::Selenium::Driver.new(app, browser: :chrome, options: options)
end

Capybara.javascript_driver = :selenium_chrome_headless
```

**ç‰¹å¾´:**

- **é«˜é€Ÿ**: ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œã•ã‚Œã‚‹ãŸã‚ã€é€šå¸¸ã®Seleniumã‚ˆã‚Šé«˜é€Ÿ
- **JavaScriptå¯¾å¿œ**: JavaScriptã‚’ä½¿ã£ãŸæ“ä½œã‚‚ãƒ†ã‚¹ãƒˆå¯èƒ½
- **CI/CDå¯¾å¿œ**: ã‚µãƒ¼ãƒãƒ¼ç’°å¢ƒã§ã‚‚å®Ÿè¡Œå¯èƒ½
- **æ¨å¥¨**: å¤šãã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§æ¨å¥¨ã•ã‚Œã‚‹è¨­å®š

**ä½¿ç”¨ä¾‹:**

```ruby
# JavaScriptã‚’ä½¿ã£ãŸæ“ä½œã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹å ´åˆï¼ˆãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ï¼‰
RSpec.describe 'Ajaxé€šä¿¡', type: :system, js: true do
  it 'Ajaxã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã§ãã‚‹ã“ã¨' do
    visit users_path
    
    click_button 'æ›´æ–°'
    
    # Ajaxã®å®Œäº†ã‚’å¾…ã¤
    expect(page).to have_content('æ›´æ–°ãŒå®Œäº†ã—ã¾ã—ãŸ', wait: 5)
  end
end
```

### ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã®ä½¿ã„åˆ†ã‘

```ruby
# spec/rails_helper.rb
RSpec.configure do |config|
  # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯Rack::Testï¼ˆé«˜é€Ÿï¼‰
  config.before(:each, type: :system) do
    driven_by :rack_test
  end
  
  # js: trueãŒæŒ‡å®šã•ã‚ŒãŸå ´åˆã®ã¿Seleniumã‚’ä½¿ç”¨
  config.before(:each, type: :system, js: true) do
    driven_by :selenium_chrome_headless
  end
end
```

**ä½¿ã„åˆ†ã‘ã®æŒ‡é‡:**

- **JavaScriptä¸è¦**: `rack_test`ã‚’ä½¿ç”¨ï¼ˆé«˜é€Ÿï¼‰
- **JavaScriptå¿…è¦**: `selenium_chrome_headless`ã‚’ä½¿ç”¨ï¼ˆCI/CDå¯¾å¿œï¼‰
- **ãƒ‡ãƒãƒƒã‚°æ™‚**: é€šå¸¸ã®`selenium_chrome`ã‚’ä½¿ç”¨ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ã‚’ç¢ºèªã§ãã‚‹ï¼‰

## ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

### 1. è¦ç´ ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã‚¨ãƒ©ãƒ¼

```ruby
# âŒ å•é¡Œ: è¦ç´ ãŒè¦‹ã¤ã‹ã‚‰ãªã„
click_button 'é€ä¿¡' # Capybara::ElementNotFound

# âœ… è§£æ±º: å¾…æ©Ÿæ™‚é–“ã‚’è¨­å®š
Capybara.default_max_wait_time = 5 # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯2ç§’

# ã¾ãŸã¯ã€ç‰¹å®šã®è¦ç´ ã«å¯¾ã—ã¦å¾…æ©Ÿ
expect(page).to have_button('é€ä¿¡', wait: 10)
```

**åŸå› ã¨å¯¾ç­–:**

- **JavaScriptã®èª­ã¿è¾¼ã¿å¾…ã¡**: `wait`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨
- **å‹•çš„ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„**: `have_content`ãªã©ã®ãƒãƒƒãƒãƒ£ãƒ¼ã¯è‡ªå‹•çš„ã«å¾…æ©Ÿ
- **ã‚¿ã‚¤ãƒŸãƒ³ã‚°å•é¡Œ**: `sleep`ã§ã¯ãªãã€Capybaraã®å¾…æ©Ÿæ©Ÿèƒ½ã‚’ä½¿ç”¨

### 2. è¤‡æ•°ã®è¦ç´ ãŒè¦‹ã¤ã‹ã‚‹ã‚¨ãƒ©ãƒ¼

```ruby
# âŒ å•é¡Œ: è¤‡æ•°ã®è¦ç´ ãŒè¦‹ã¤ã‹ã‚‹
click_button 'å‰Šé™¤' # Capybara::Ambiguous

# âœ… è§£æ±º: ã‚ˆã‚Šå…·ä½“çš„ãªã‚»ãƒ¬ã‚¯ã‚¿ã‚’ä½¿ç”¨
within '.user-card' do
  click_button 'å‰Šé™¤'
end

# ã¾ãŸã¯ã€firstã‚’ä½¿ç”¨
first('.delete-button').click
```

### 3. JavaScriptã®å®Ÿè¡Œå¾…ã¡

```ruby
# âŒ å•é¡Œ: JavaScriptã®å®Ÿè¡ŒãŒå®Œäº†ã™ã‚‹å‰ã«æ¤œè¨¼
click_button 'Ajaxé€ä¿¡'
expect(page).to have_content('å®Œäº†') # ã¾ã å®Ÿè¡Œã•ã‚Œã¦ã„ãªã„å¯èƒ½æ€§

# âœ… è§£æ±º: ãƒãƒƒãƒãƒ£ãƒ¼ã¯è‡ªå‹•çš„ã«å¾…æ©Ÿã™ã‚‹ãŒã€æ˜ç¤ºçš„ã«å¾…æ©Ÿæ™‚é–“ã‚’æŒ‡å®š
expect(page).to have_content('å®Œäº†', wait: 5)

# ã¾ãŸã¯ã€ç‰¹å®šã®è¦ç´ ã®å‡ºç¾ã‚’å¾…ã¤
expect(page).to have_css('.success-message', visible: true, wait: 5)
```

### 4. ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚„ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã®æ“ä½œ

```ruby
# ãƒ¢ãƒ¼ãƒ€ãƒ«ã®æ“ä½œ
click_button 'ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‹ã'

# ãƒ¢ãƒ¼ãƒ€ãƒ«å†…ã§ã®æ“ä½œ
within '.modal' do
  fill_in 'åå‰', with: 'ãƒ†ã‚¹ãƒˆ'
  click_button 'ä¿å­˜'
end

# ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒé–‰ã˜ã‚‹ã®ã‚’å¾…ã¤
expect(page).not_to have_css('.modal', visible: true, wait: 5)
```

### 5. ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã®ãƒ†ã‚¹ãƒˆ

```ruby
# ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
attach_file 'ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒ', Rails.root.join('spec', 'fixtures', 'images', 'avatar.jpg')

# ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã®å®Œäº†ã‚’å¾…ã¤
expect(page).to have_content('ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãŒå®Œäº†ã—ã¾ã—ãŸ', wait: 5)

# ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª
expect(page).to have_css('img[src*="avatar"]')
```

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. ãƒ†ã‚¹ãƒˆã®ç‹¬ç«‹æ€§

```ruby
# âœ… è‰¯ã„ä¾‹: å„ãƒ†ã‚¹ãƒˆãŒç‹¬ç«‹ã—ã¦ã„ã‚‹
RSpec.describe 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²', type: :system do
  it 'æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ç™»éŒ²ã§ãã‚‹ã“ã¨' do
    visit new_user_registration_path
    fill_in 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹', with: 'new@example.com'
    fill_in 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰', with: 'password123'
    click_button 'ç™»éŒ²'
    
    expect(page).to have_content('ç™»éŒ²ãŒå®Œäº†ã—ã¾ã—ãŸ')
    expect(User.count).to eq(1)
  end
  
  it 'æ—¢å­˜ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã¯ç™»éŒ²ã§ããªã„ã“ã¨' do
    create(:user, email: 'existing@example.com')
    
    visit new_user_registration_path
    fill_in 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹', with: 'existing@example.com'
    fill_in 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰', with: 'password123'
    click_button 'ç™»éŒ²'
    
    expect(page).to have_content('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯æ—¢ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™')
  end
end
```

### 2. ãƒšãƒ¼ã‚¸ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã®ä½¿ç”¨

```ruby
# spec/support/pages/user_registration_page.rb
class UserRegistrationPage
  include Capybara::DSL
  
  def visit_page
    visit new_user_registration_path
  end
  
  def fill_email(email)
    fill_in 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹', with: email
  end
  
  def fill_password(password)
    fill_in 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰', with: password
  end
  
  def submit
    click_button 'ç™»éŒ²'
  end
  
  def success_message
    page.find('.success-message').text
  end
end

# spec/system/users_spec.rb
RSpec.describe 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²', type: :system do
  let(:page) { UserRegistrationPage.new }
  
  it 'æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ç™»éŒ²ã§ãã‚‹ã“ã¨' do
    page.visit_page
    page.fill_email('test@example.com')
    page.fill_password('password123')
    page.submit
    
    expect(page.success_message).to eq('ç™»éŒ²ãŒå®Œäº†ã—ã¾ã—ãŸ')
  end
end
```

### 3. ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰ã®æ´»ç”¨

```ruby
# spec/support/system_test_helpers.rb
module SystemTestHelpers
  def login_as(user)
    visit new_user_session_path
    fill_in 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹', with: user.email
    fill_in 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰', with: user.password
    click_button 'ãƒ­ã‚°ã‚¤ãƒ³'
  end
  
  def logout
    click_link 'ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ'
  end
end

RSpec.configure do |config|
  config.include SystemTestHelpers, type: :system
end

# ä½¿ç”¨ä¾‹
RSpec.describe 'ãƒ¦ãƒ¼ã‚¶ãƒ¼æ©Ÿèƒ½', type: :system do
  let(:user) { create(:user) }
  
  before do
    login_as(user)
  end
  
  it 'ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’ç·¨é›†ã§ãã‚‹ã“ã¨' do
    visit edit_user_path(user)
    fill_in 'åå‰', with: 'æ–°ã—ã„åå‰'
    click_button 'æ›´æ–°'
    
    expect(page).to have_content('æ›´æ–°ãŒå®Œäº†ã—ã¾ã—ãŸ')
  end
end
```

## Railsã§ã®Capybaraåˆ©ç”¨æ³•

### Gemã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```ruby
# Gemfile
group :test do
  gem 'capybara'
  gem 'selenium-webdriver' # ãƒ–ãƒ©ã‚¦ã‚¶æ“ä½œç”¨
  gem 'webdrivers' # ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã®è‡ªå‹•ç®¡ç†
end
```

```bash
bundle install
```

### RSpecã¨ã®é€£æº

```ruby
# spec/rails_helper.rb
require 'capybara/rails'
require 'capybara/rspec'

RSpec.configure do |config|
  config.include Capybara::DSL, type: :system
end
```

### ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆã®è¨­å®š

```ruby
# spec/rails_helper.rb
RSpec.configure do |config|
  config.before(:each, type: :system) do
    # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯Rack::Testï¼ˆé«˜é€Ÿï¼‰
    driven_by :rack_test
  end
  
  config.before(:each, type: :system, js: true) do
    # JavaScriptãŒå¿…è¦ãªå ´åˆã¯Seleniumã‚’ä½¿ç”¨
    driven_by :selenium_chrome_headless
  end
end
```

#### âš ï¸ ã€ŒSystem Specã€ vs ã€ŒRequest Specã€ã®å¢ƒç•Œç·š

Rails 5.1ä»¥é™ã€çµ±åˆãƒ†ã‚¹ãƒˆã¯System Specï¼ˆCapybaraä½¿ç”¨ï¼‰ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ãŒã€ã™ã¹ã¦ã‚’System Specã§æ›¸ãã¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚é–“ãŒçˆ†ç™ºã—ã¾ã™ã€‚

**é‡è¦ãªç†è§£**:
ã€Œãƒ–ãƒ©ã‚¦ã‚¶ã®æŒ™å‹•ï¼ˆJSãªã©ï¼‰ã€ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒãªã„ãƒ†ã‚¹ãƒˆã¾ã§Capybaraã§æ›¸ãã®ã¯æ™‚é–“ã®ç„¡é§„ã§ã™ã€‚

**å•é¡Œç‚¹**:
APIã®æŒ™å‹•ã‚„ã€å˜ãªã‚‹ç”»é¢é·ç§»ã®ç¢ºèªã§ã‚ã‚Œã°ã€ãƒ–ãƒ©ã‚¦ã‚¶ã‚’èµ·å‹•ã—ãªã„Request Specã®æ–¹ãŒåœ§å€’çš„ã«é«˜é€Ÿã§å®‰å®šã—ã¦ã„ã¾ã™ã€‚

**æ”¹å–„æ¡ˆ**:
ã€ŒJSãŒçµ¡ã‚€è¤‡é›‘ãªUIæ“ä½œã¯System Specã€ã€ã€Œãã‚Œä»¥å¤–ã®ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ã®æŒ™å‹•ç¢ºèªã¯Request Specã€ã¨ã„ã†ä½¿ã„åˆ†ã‘ã®åŸºæº–ã‚’æ˜æ–‡åŒ–ã—ã¾ã—ã‚‡ã†ã€‚

| ãƒ†ã‚¹ãƒˆã®ç¨®é¡ | ä½¿ç”¨ã™ã‚‹Spec | ç†ç”± |
| --- | --- | --- |
| JavaScriptã‚’ä½¿ã£ãŸUIæ“ä½œ | System Spec | ãƒ–ãƒ©ã‚¦ã‚¶ãŒå¿…è¦ |
| ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ï¼ˆJSä¸è¦ï¼‰ | Request Spec | é«˜é€Ÿã§ååˆ† |
| APIã®æŒ™å‹•ç¢ºèª | Request Spec | ãƒ–ãƒ©ã‚¦ã‚¶ä¸è¦ |
| ç”»é¢é·ç§»ã®ç¢ºèª | Request Spec | é«˜é€Ÿã§ååˆ† |
| ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡ | System Spec | WebSocketã®ãƒ†ã‚¹ãƒˆã«å¿…è¦ |

#### âš ï¸ ã€Œä½•ã§ã‚‚å¾…ã¤ã€ã“ã¨ã®å‰¯ä½œç”¨

`wait: 5`ãªã©ã®å¾…æ©Ÿå‡¦ç†ã¯é‡è¦ã§ã™ãŒã€ã“ã‚Œã«é ¼ã‚Šã™ãã‚‹ã¨ãƒ†ã‚¹ãƒˆãŒä¸å®‰å®šï¼ˆFlakyï¼‰ã«ãªã‚Šã¾ã™ã€‚

**é‡è¦ãªç†è§£**:
ã€Œè¦ç´ ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¾ã§å¾…ã¤ã€ã®ã¯æ­£è§£ã§ã™ãŒã€ã€Œè¦ç´ ãŒæ¶ˆãˆã‚‹ã¾ã§å¾…ã¤ã€å‡¦ç†ã‚’å¿˜ã‚Œã‚‹ã¨ã€æ¬¡ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã«å½±éŸ¿ãŒå‡ºã¾ã™ã€‚

**å•é¡Œç‚¹**:
éåŒæœŸå‡¦ç†ï¼ˆAjaxãªã©ï¼‰ã®çµæœã‚’å¾…ãŸãšã«æ¬¡ã®æ“ä½œã«ç§»ã‚‹ã¨ã€å‰ã®ãƒ†ã‚¹ãƒˆã®ãƒ‡ãƒ¼ã‚¿ãŒæ®‹ã£ã¦ã„ã¦ãƒ†ã‚¹ãƒˆãŒè½ã¡ã‚‹ã€Œè¬ã®å¤±æ•—ã€ã«æ‚©ã¾ã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚

**æ”¹å–„æ¡ˆ**:
ç ´å£Šçš„ãªæ“ä½œï¼ˆå‰Šé™¤ãªã©ï¼‰ã®å¾Œã¯ã€å¿…ãšãã®è¦ç´ ãŒ`not_to have_css`ã«ãªã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ã‹ã‚‰æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã«é€²ã‚€ã€ã¨ã„ã†ãƒ«ãƒ¼ãƒ«ã‚’å¾¹åº•ã—ã¾ã—ã‚‡ã†ã€‚

```ruby
# âœ… è‰¯ã„ä¾‹: è¦ç´ ãŒæ¶ˆãˆã‚‹ã¾ã§å¾…ã¤
it 'æŠ•ç¨¿ã‚’å‰Šé™¤ã§ãã‚‹ã“ã¨', js: true do
  visit posts_path
  expect(page).to have_css('.post-item', count: 5)
  
  click_button 'å‰Šé™¤'
  
  # å‰Šé™¤å‡¦ç†ã®å®Œäº†ã‚’å¾…ã¤
  expect(page).not_to have_css('.post-item', count: 5, wait: 5)
  expect(page).to have_css('.post-item', count: 4)
end
```

#### ğŸ› ï¸ CircleCI / GitHub Actionsã§ã®ã€Œã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã€

CIï¼ˆè‡ªå‹•ãƒ†ã‚¹ãƒˆç’°å¢ƒï¼‰ã§System SpecãŒè½ã¡ãŸæ™‚ã€åŸå› ã®ç‰¹å®šã¯å›°é›£ã§ã™ã€‚

**è§£æ±ºç­–**:
Railsã®System Testæ¨™æº–æ©Ÿèƒ½ã§ã‚ã‚‹`take_failed_screenshot`ã‚’æ´»ç”¨ã—ã¾ã—ã‚‡ã†ã€‚å¤±æ•—æ™‚ã®ãƒ–ãƒ©ã‚¦ã‚¶ã®çŠ¶æ…‹ã‚’ç”»åƒã§ä¿å­˜ã™ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¦ãŠã‘ã°ã€ãƒ‡ãƒãƒƒã‚°æ™‚é–“ãŒ1/10ã«ãªã‚Šã¾ã™ã€‚

```ruby
# spec/rails_helper.rb
RSpec.configure do |config|
  config.after(:each, type: :system) do |example|
    if example.exception
      # å¤±æ•—æ™‚ã«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã¨HTMLã‚’ä¿å­˜
      take_screenshot
      save_page  # HTMLã‚‚ä¿å­˜
    end
  end
end
```

## ã¾ã¨ã‚

Capybaraã¯ã€Railsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®E2Eãƒ†ã‚¹ãƒˆã‚’æ›¸ããŸã‚ã®å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ä»¥ä¸‹ã®ãƒã‚¤ãƒ³ãƒˆã‚’æŠ¼ã•ãˆã‚‹ã“ã¨ã§ã€åŠ¹æœçš„ãªãƒ†ã‚¹ãƒˆã‚’æ›¸ãã“ã¨ãŒã§ãã¾ã™ï¼š

- **åŸºæœ¬æ“ä½œã®ç†è§£**: `visit`, `fill_in`, `click_button`ãªã©ã®åŸºæœ¬ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç†è§£ã™ã‚‹
- **ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã®ä½¿ã„åˆ†ã‘**: JavaScriptãŒå¿…è¦ãªå ´åˆã®ã¿Seleniumã‚’ä½¿ç”¨ã—ã€ãã‚Œä»¥å¤–ã¯Rack::Testã‚’ä½¿ç”¨
- **System Spec vs Request Spec**: JSãŒçµ¡ã‚€è¤‡é›‘ãªUIæ“ä½œã¯System Specã€ãã‚Œä»¥å¤–ã¯Request Spec
- **å¾…æ©Ÿå‡¦ç†**: å‹•çš„ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«å¯¾ã—ã¦ã¯é©åˆ‡ãªå¾…æ©Ÿæ™‚é–“ã‚’è¨­å®šã—ã€è¦ç´ ãŒæ¶ˆãˆã‚‹ã¾ã§å¾…ã¤
- **ãƒ†ã‚¹ãƒˆã®ç‹¬ç«‹æ€§**: å„ãƒ†ã‚¹ãƒˆãŒç‹¬ç«‹ã—ã¦å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹
- **ãƒšãƒ¼ã‚¸ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³**: è¤‡é›‘ãªãƒ†ã‚¹ãƒˆã¯ãƒšãƒ¼ã‚¸ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã§æ•´ç†ã™ã‚‹
- **ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ**: CIç’°å¢ƒã§ã®å¤±æ•—æ™‚ã«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’è‡ªå‹•ä¿å­˜

ã“ã‚Œã‚‰ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’å®ˆã‚‹ã“ã¨ã§ã€ä¿å®ˆæ€§ãŒé«˜ãã€å®Ÿè¡Œé€Ÿåº¦ã®é€Ÿã„ã€ä¿¡é ¼æ€§ã®é«˜ã„ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã‚’æ§‹ç¯‰ã§ãã¾ã™ã€‚
