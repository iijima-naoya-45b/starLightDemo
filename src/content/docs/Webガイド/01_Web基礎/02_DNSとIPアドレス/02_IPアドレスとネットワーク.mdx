---
title: IPアドレスとネットワーク
sidebar:
    label: IPアドレスとネットワーク
---

# IPアドレスとネットワーク完全ガイド

IPアドレスとネットワークの基礎知識を、実務で役立つ実装例とともに詳しく解説します。

## 1. IPアドレスとは

### IPアドレスの役割

IPアドレス（Internet Protocol Address）は、インターネット上の各デバイスに割り当てられる一意の識別子です。郵便物の住所のように、データを正しい宛先に届けるために使用されます。

```
送信元: 192.168.1.100
宛先: 93.184.216.34
データ: HTTPリクエスト
```

### IPv4とIPv6

#### IPv4

- **形式**: 32ビット（4オクテット）
- **表記**: 192.168.1.1
- **アドレス数**: 約43億個（枯渇している）
- **例**: `93.184.216.34`

#### IPv6

- **形式**: 128ビット（16オクテット）
- **表記**: 2001:0db8:85a3:0000:0000:8a2e:0370:7334
- **アドレス数**: 約340澗個（実質的に無限）
- **例**: `2606:2800:220:1:248:1893:25c8:1946`

## 2. IPアドレスのクラス

### プライベートIPアドレス

インターネット上で直接使用されず、ローカルネットワーク内でのみ使用されるIPアドレスです。

```
クラスA: 10.0.0.0 ～ 10.255.255.255
クラスB: 172.16.0.0 ～ 172.31.255.255
クラスC: 192.168.0.0 ～ 192.168.255.255
```

### パブリックIPアドレス

インターネット上で直接使用されるIPアドレスです。

```
上記のプライベートIPアドレス以外のすべて
```

## 3. サブネットマスクとCIDR

### サブネットマスク

ネットワーク部分とホスト部分を区別するために使用されます。

```
IPアドレス: 192.168.1.100
サブネットマスク: 255.255.255.0
ネットワーク: 192.168.1.0
ホスト: 100
```

### CIDR表記

```
192.168.1.0/24
            ^^
            CIDR表記（24ビットがネットワーク部分）
```

**CIDR表記の意味:**
- `/24`: 最初の24ビットがネットワーク部分
- `/16`: 最初の16ビットがネットワーク部分
- `/8`: 最初の8ビットがネットワーク部分

## 4. ネットワークの階層構造

### OSI参照モデルとTCP/IPモデル

```
OSI参照モデル          TCP/IPモデル
─────────────────────────────────
7. アプリケーション層  →  アプリケーション層
6. プレゼンテーション層
5. セッション層
4. トランスポート層  →  トランスポート層
3. ネットワーク層   →  インターネット層
2. データリンク層   →  ネットワークインターフェース層
1. 物理層
```

### 各層の役割

#### アプリケーション層
- HTTP、HTTPS、DNS、SMTPなど
- アプリケーション間の通信

#### トランスポート層
- TCP、UDP
- データの信頼性のある配送

#### インターネット層
- IP、ICMP
- パケットのルーティング

#### ネットワークインターフェース層
- Ethernet、Wi-Fi
- 物理的なデータ転送

## 5. ルーティング

### ルーティングとは

パケットを送信元から宛先まで転送する仕組みです。

```
送信元: 192.168.1.100
宛先: 93.184.216.34
     ↓
ルーター1: 192.168.1.1
     ↓
ルーター2: 203.0.113.1
     ↓
ルーター3: 198.51.100.1
     ↓
宛先: 93.184.216.34
```

### ルーティングテーブル

```bash
# ルーティングテーブルの確認
route -n  # Linux
netstat -rn  # macOS
route print  # Windows

# 結果例:
# Destination     Gateway         Genmask         Flags
# 0.0.0.0         192.168.1.1     0.0.0.0         UG
# 192.168.1.0     0.0.0.0         255.255.255.0   U
```

## 6. ポート番号

### ポート番号とは

同じIPアドレス上で複数のアプリケーションを区別するために使用される番号です。

```
IPアドレス: 93.184.216.34
ポート: 80 (HTTP)
ポート: 443 (HTTPS)
ポート: 22 (SSH)
```

### よく使われるポート番号

```
20, 21: FTP
22: SSH
25: SMTP
53: DNS
80: HTTP
443: HTTPS
3306: MySQL
5432: PostgreSQL
```

## 7. 実務でのネットワーク設定

### ローカル開発環境

```bash
# ローカルホストの確認
ping localhost
# または
ping 127.0.0.1

# ポートの確認
netstat -an | grep LISTEN  # Linux/macOS
netstat -an | findstr LISTEN  # Windows
```

### ネットワーク接続の確認

```bash
# IPアドレスの確認
ifconfig  # Linux/macOS
ipconfig  # Windows

# ネットワーク接続の確認
ping 8.8.8.8  # GoogleのDNSサーバー
ping example.com

# ルーティングの確認
traceroute example.com  # Linux/macOS
tracert example.com  # Windows
```

## 8. よくある問題と解決策

### 問題1: 接続できない

**原因:**
- IPアドレスが正しくない
- ファイアウォールでブロックされている
- ネットワーク設定が間違っている

**解決策:**
```bash
# IPアドレスの確認
ipconfig  # Windows
ifconfig  # Linux/macOS

# 接続の確認
ping 8.8.8.8
ping example.com

# ポートの確認
telnet example.com 80
```

### 問題2: サブネット外のデバイスに接続できない

**原因:**
- ルーターの設定が間違っている
- サブネットマスクが正しくない

**解決策:**
- ルーターの設定を確認
- サブネットマスクを確認

これで、IPアドレスとネットワークの基礎知識を理解できるようになりました。
