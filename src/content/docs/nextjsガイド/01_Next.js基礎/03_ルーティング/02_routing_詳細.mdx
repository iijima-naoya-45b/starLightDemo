---
title: "Next.jsã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è©³ç´°"
label: "Next.jsã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è©³ç´°"
---

## Next.jsã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è©³ç´°

Next.jsã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã«åŸºã¥ã„ãŸãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚„ãƒ•ã‚¡ã‚¤ãƒ«ãŒãã®ã¾ã¾URLãƒ‘ã‚¹ã«ãªã‚Šã¾ã™ã€‚Next.js 13ä»¥é™ã€æ–°ã—ã„App RouterãŒå°å…¥ã•ã‚Œã€æ—¢å­˜ã®Pages Routerã¨ç•°ãªã‚‹ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ç®¡ç†ã—ã¾ã™ã€‚

### App Routerã¨Pages Routerã®é•ã„

| ç‰¹å¾´ | Pages Router | App Router |
|------|--------------|------------|
| ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | `pages/` | `app/` |
| å‹•çš„ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ | `[name].tsx` | `[name]/page.tsx` |
| ãƒ‘ã‚¹å–å¾— | `useRouter().query` | `params`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ |
| ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | éå¯¾å¿œ | å¯¾å¿œ |
| ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå…±æœ‰ | `_app.tsx` | `layout.tsx` |
| ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚° | `getServerSideProps`, `getStaticProps` | `async`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ |
| æ¨å¥¨ | æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ | æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ |

## App Routerã«ã‚ˆã‚‹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

App Routerã¯ã€`app/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½¿ç”¨ã—ã¦ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ç®¡ç†ã—ã¾ã™ã€‚ã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã¯ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®å…±æœ‰ã€ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã€ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®åˆ©ç”¨ãŒå®¹æ˜“ã«ãªã‚Šã¾ã™ã€‚

### ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° (`app/`)

`app/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒURLãƒ‘ã‚¹ã«å¯¾å¿œã—ã¾ã™ã€‚å„ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã®`page.tsx`ãƒ•ã‚¡ã‚¤ãƒ«ãŒã€ãã®ãƒ‘ã‚¹ã®UIã‚’å®šç¾©ã—ã¾ã™ã€‚

#### ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã¨URLã®å¯¾å¿œé–¢ä¿‚

ä»¥ä¸‹ã®å›³ã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã®æ§‹é€ ãŒã©ã®ã‚ˆã†ã«URLãƒ‘ã‚¹ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã•ã‚Œã‚‹ã‹ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚

```
ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ æ§‹é€               URLãƒ‘ã‚¹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
app/
â”œâ”€â”€ page.tsx                  â†’ /
â”œâ”€â”€ about/
â”‚   â””â”€â”€ page.tsx             â†’ /about
â”œâ”€â”€ blog/
â”‚   â”œâ”€â”€ page.tsx             â†’ /blog
â”‚   â”œâ”€â”€ [slug]/
â”‚   â”‚   â””â”€â”€ page.tsx         â†’ /blog/[slug]
â”‚   â””â”€â”€ [slug]/
â”‚       â””â”€â”€ [commentId]/
â”‚           â””â”€â”€ page.tsx     â†’ /blog/[slug]/[commentId]
â””â”€â”€ shop/
    â”œâ”€â”€ [category]/
    â”‚   â””â”€â”€ [productId]/
    â”‚       â””â”€â”€ page.tsx     â†’ /shop/[category]/[productId]
    â””â”€â”€ [[...slug]]/
        â””â”€â”€ page.tsx         â†’ /shop/[[...slug]]
```

**é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ:**

- **ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå = URLã‚»ã‚°ãƒ¡ãƒ³ãƒˆ**: ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåãŒãã®ã¾ã¾URLãƒ‘ã‚¹ã®ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã«ãªã‚Šã¾ã™
- **`page.tsx` = ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: å„ãƒ«ãƒ¼ãƒˆã«ã¯`page.tsx`ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¿…è¦ã§ã™
- **`[param]` = å‹•çš„ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ**: è§’æ‹¬å¼§ã§å›²ã¾ã‚ŒãŸåå‰ãŒå‹•çš„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ãªã‚Šã¾ã™
- **`[[...slug]]` = ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ã‚­ãƒ£ãƒƒãƒã‚ªãƒ¼ãƒ«**: äºŒé‡è§’æ‹¬å¼§ã¯ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ãªã‚­ãƒ£ãƒƒãƒã‚ªãƒ¼ãƒ«ãƒ«ãƒ¼ãƒˆã§ã™

#### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã®ä¾‹

```
/app
â”œâ”€â”€ layout.tsx         // å…±æœ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆä¾‹: ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ï¼‰
â”œâ”€â”€ page.tsx           // ãƒ«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸ (/)
â”œâ”€â”€ about/
â”‚   â””â”€â”€ page.tsx       // /aboutãƒšãƒ¼ã‚¸
â””â”€â”€ blog/
    â”œâ”€â”€ layout.tsx     // /blogé…ä¸‹ã®å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
    â”œâ”€â”€ page.tsx       // /blogãƒšãƒ¼ã‚¸
    â””â”€â”€ [slug]/
        â””â”€â”€ page.tsx   // /blog/[slug]ãƒšãƒ¼ã‚¸
```

### åŸºæœ¬çš„ãªãƒšãƒ¼ã‚¸ã®ä½œæˆ

```typescript
// app/about/page.tsx
export default function AboutPage() {
  return (
    <div>
      <h1>About Us</h1>
      <p>ç§ãŸã¡ã«ã¤ã„ã¦</p>
    </div>
  );
}
```

**ç‰¹å¾´:**

- **è‡ªå‹•ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**: `app/about/page.tsx`ãŒè‡ªå‹•çš„ã«`/about`ãƒ«ãƒ¼ãƒˆã«ãªã‚‹
- **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ**: `page.tsx`ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãŒå¿…è¦
- **ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã—ã¦å‹•ä½œ

### å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

å‹•çš„ãªãƒ‘ã‚¹ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã¯ã€è§’æ‹¬å¼§`[]`ã§å›²ã‚“ã§æŒ‡å®šã—ã¾ã™ã€‚ä¾‹ãˆã°ã€`[slug]`ã¨ã„ã†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ã€`/blog/first-post`ã‚„`/blog/second-post`ã®ã‚ˆã†ãªURLã«å¯¾å¿œã—ã¾ã™ã€‚

#### å˜ä¸€ã®å‹•çš„ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ

> **Next.js 15ã®å¤‰æ›´ç‚¹**: Next.js 15ä»¥é™ã§ã¯ã€`params`ã¯Promiseã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ãŸã‚ã€`await`ãŒå¿…è¦ã§ã™ã€‚Next.js 14ä»¥å‰ã§ã‚‚å‹•ä½œã™ã‚‹ã‚ˆã†ã«ã€`await`ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚

```typescript
// app/blog/[slug]/page.tsx
type BlogPostPageProps = {
  params: Promise<{
    slug: string;
  }>;
};

export default async function BlogPostPage({ params }: BlogPostPageProps) {
  // Next.js 15ä»¥é™: paramsã‚’awaitã™ã‚‹å¿…è¦ãŒã‚ã‚‹
  const { slug } = await params;
  
  // ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãªã®ã§ã€ç›´æ¥ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°ãŒå¯èƒ½
  const post = await fetch(`https://api.example.com/posts/${slug}`)
    .then(res => res.json());
  
  return (
    <div>
      <h1>{post.title}</h1>
      <p>{post.content}</p>
    </div>
  );
}
```

**ç‰¹å¾´:**

- **`params`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£**: å‹•çš„ãªã‚»ã‚°ãƒ¡ãƒ³ãƒˆã®å€¤ãŒ`params`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ã—ã¦æ¸¡ã•ã‚Œã‚‹ï¼ˆNext.js 15ä»¥é™ã¯Promiseï¼‰
- **å‹å®‰å…¨æ€§**: TypeScriptã§å‹å®šç¾©ãŒå¯èƒ½
- **ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: `async`é–¢æ•°ã¨ã—ã¦å®šç¾©å¯èƒ½
- **Next.js 15å¯¾å¿œ**: `params`ã‚’`await`ã§è§£æ±ºã™ã‚‹å¿…è¦ãŒã‚ã‚‹

#### è¤‡æ•°ã®å‹•çš„ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ

```typescript
// app/shop/[category]/[product]/page.tsx
type ProductPageProps = {
  params: Promise<{
    category: string;
    product: string;
  }>;
};

export default async function ProductPage({ params }: ProductPageProps) {
  // Next.js 15ä»¥é™: paramsã‚’awaitã™ã‚‹å¿…è¦ãŒã‚ã‚‹
  const { category, product } = await params;
  
  return (
    <div>
      <h1>ã‚«ãƒ†ã‚´ãƒª: {category}</h1>
      <h2>å•†å“: {product}</h2>
    </div>
  );
}
```

**URLä¾‹:**

- `/shop/electronics/iphone` â†’ `category: 'electronics'`, `product: 'iphone'`
- `/shop/clothing/t-shirt` â†’ `category: 'clothing'`, `product: 't-shirt'`

> **ğŸ’¡ ã‚·ãƒ‹ã‚¢ã®çŸ¥æµ: ãªãœæ„å‘³ã®ã‚ã‚‹åå‰ã‚’ä½¿ã†ã®ã‹ï¼Ÿ**
> 
> ãƒã‚¹ãƒˆã•ã‚ŒãŸå‹•çš„ãƒ«ãƒ¼ãƒˆã§ã¯ã€ã™ã¹ã¦ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒ`params`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å«ã¾ã‚Œã¾ã™ã€‚ä¾‹ãˆã°ã€`/users/[userId]/posts/[postId]`ã¨ã„ã†æ§‹é€ ã®å ´åˆã€`params`ã¯`{ userId: '...', postId: '...' }`ã¨ãªã‚Šã¾ã™ã€‚
> 
> ã™ã¹ã¦ã‚’`[id]`ã«ã—ã¦ã—ã¾ã†ã¨ã€ã©ã®`id`ãŒã©ã®ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã‚’æŒ‡ã—ã¦ã„ã‚‹ã®ã‹ã‚ã‹ã‚‰ãªããªã‚Šã€ãƒã‚°ã®åŸå› ã«ãªã‚Šã¾ã™ã€‚**ã€Œãã®å¤‰æ•°ãŒæŒ‡ã™å›ºæœ‰ã®åå‰ã€**ï¼ˆ`userId`ã€`postId`ãªã©ï¼‰ã‚’å¸¸ã«ä½¿ã„ã¾ã—ã‚‡ã†ã€‚

```typescript
// âœ… è‰¯ã„ä¾‹: æ„å‘³ã®ã‚ã‚‹åå‰ã‚’ä½¿ç”¨
// app/users/[userId]/posts/[postId]/page.tsx
type PostPageProps = {
  params: Promise<{
    userId: string;    // ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã§ã‚ã‚‹ã“ã¨ãŒæ˜ç¢º
    postId: string;    // æŠ•ç¨¿IDã§ã‚ã‚‹ã“ã¨ãŒæ˜ç¢º
  }>;
};

export default async function PostPage({ params }: PostPageProps) {
  const { userId, postId } = await params;
  // userIdã¨postIdã®åŒºåˆ¥ãŒæ˜ç¢º
  const post = await fetch(`/api/users/${userId}/posts/${postId}`);
  // ...
}

// âŒ æ‚ªã„ä¾‹: ã™ã¹ã¦[id]ã«ã—ã¦ã—ã¾ã†
// app/users/[id]/posts/[id]/page.tsx
type PostPageProps = {
  params: Promise<{
    id: string;  // ã©ã¡ã‚‰ã®IDã‹ã‚ã‹ã‚‰ãªã„ï¼
  }>;
};

export default async function PostPage({ params }: PostPageProps) {
  const { id } = await params;
  // ã“ã‚Œã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼IDãªã®ã‹ã€æŠ•ç¨¿IDãªã®ã‹ã‚ã‹ã‚‰ãªã„
  // ãƒã‚°ã®åŸå› ã«ãªã‚‹å¯èƒ½æ€§ãŒé«˜ã„
}
```

#### ã‚­ãƒ£ãƒƒãƒã‚ªãƒ¼ãƒ«ãƒ«ãƒ¼ãƒˆ

```typescript
// app/docs/[...slug]/page.tsx
type DocsPageProps = {
  params: Promise<{
    slug: string[];
  }>;
};

export default async function DocsPage({ params }: DocsPageProps) {
  // Next.js 15ä»¥é™: paramsã‚’awaitã™ã‚‹å¿…è¦ãŒã‚ã‚‹
  const { slug } = await params;
  
  // slugã¯é…åˆ—ã¨ã—ã¦æ¸¡ã•ã‚Œã‚‹
  // /docs/getting-started/installation â†’ ['getting-started', 'installation']
  const path = slug.join('/');
  
  return <div>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: {path}</div>;
}
```

**URLä¾‹:**

- `/docs/getting-started` â†’ `slug: ['getting-started']`
- `/docs/getting-started/installation` â†’ `slug: ['getting-started', 'installation']`

#### ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ã‚­ãƒ£ãƒƒãƒã‚ªãƒ¼ãƒ«ãƒ«ãƒ¼ãƒˆ

```typescript
// app/shop/[[...slug]]/page.tsx
type ShopPageProps = {
  params: Promise<{
    slug?: string[];
  }>;
};

export default async function ShopPage({ params }: ShopPageProps) {
  // Next.js 15ä»¥é™: paramsã‚’awaitã™ã‚‹å¿…è¦ãŒã‚ã‚‹
  const { slug } = await params;
  
  if (!slug) {
    return <div>ã‚·ãƒ§ãƒƒãƒ—ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸</div>;
  }
  
  return <div>ã‚·ãƒ§ãƒƒãƒ—: {slug.join('/')}</div>;
}
```

**URLä¾‹:**

- `/shop` â†’ `slug: undefined`ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ï¼‰
- `/shop/electronics` â†’ `slug: ['electronics']`
- `/shop/electronics/phones` â†’ `slug: ['electronics', 'phones']`

### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®å…±æœ‰

`layout.tsx`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã€è¤‡æ•°ã®ãƒšãƒ¼ã‚¸ã§å…±é€šã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å…±æœ‰ã§ãã¾ã™ã€‚

```typescript
// app/layout.tsxï¼ˆãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰
export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="ja">
      <body>
        <header>
          <nav>
            <a href="/">ãƒ›ãƒ¼ãƒ </a>
            <a href="/about">About</a>
            <a href="/blog">Blog</a>
          </nav>
        </header>
        <main>{children}</main>
        <footer>
          <p>&copy; 2024 My App</p>
        </footer>
      </body>
    </html>
  );
}
```

```typescript
// app/blog/layout.tsxï¼ˆãƒ–ãƒ­ã‚°å°‚ç”¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰
export default function BlogLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <div className="blog-container">
      <aside>
        <h2>ã‚«ãƒ†ã‚´ãƒª</h2>
        <ul>
          <li><a href="/blog/tech">æŠ€è¡“</a></li>
          <li><a href="/blog/life">ç”Ÿæ´»</a></li>
        </ul>
      </aside>
      <article>{children}</article>
    </div>
  );
}
```

**ç‰¹å¾´:**

- **ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**: ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯éšå±¤çš„ã«é©ç”¨ã•ã‚Œã‚‹
- **ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®æ°¸ç¶šåŒ–**: ãƒšãƒ¼ã‚¸é·ç§»æ™‚ã‚‚ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œãªã„
- **çŠ¶æ…‹ã®ä¿æŒ**: ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå†…ã®çŠ¶æ…‹ã¯ãƒšãƒ¼ã‚¸é·ç§»æ™‚ã‚‚ä¿æŒã•ã‚Œã‚‹

### ãƒ«ãƒ¼ãƒˆã‚°ãƒ«ãƒ¼ãƒ—

ãƒ«ãƒ¼ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½¿ç”¨ã—ã¦ã€URLãƒ‘ã‚¹ã«å½±éŸ¿ã‚’ä¸ãˆãšã«ãƒ«ãƒ¼ãƒˆã‚’æ•´ç†ã§ãã¾ã™ã€‚

```
/app
â”œâ”€â”€ (marketing)/
â”‚   â”œâ”€â”€ about/
â”‚   â”‚   â””â”€â”€ page.tsx    // /about
â”‚   â””â”€â”€ contact/
â”‚       â””â”€â”€ page.tsx    // /contact
â””â”€â”€ (shop)/
    â”œâ”€â”€ products/
    â”‚   â””â”€â”€ page.tsx    // /products
    â””â”€â”€ cart/
        â””â”€â”€ page.tsx    // /cart
```

**ç‰¹å¾´:**

- **URLã«å½±éŸ¿ã—ãªã„**: æ‹¬å¼§ã§å›²ã¾ã‚ŒãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯URLãƒ‘ã‚¹ã«å«ã¾ã‚Œãªã„
- **ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®åˆ†é›¢**: ç•°ãªã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’é©ç”¨ã§ãã‚‹
- **çµ„ç¹”åŒ–**: é–¢é€£ã™ã‚‹ãƒ«ãƒ¼ãƒˆã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã§ãã‚‹

### ä¸¦åˆ—ãƒ«ãƒ¼ãƒˆ

`@folder`ã¨ã„ã†å‘½åè¦å‰‡ã‚’ä½¿ç”¨ã—ã¦ã€åŒã˜URLã«å¯¾ã—ã¦è¤‡æ•°ã®ãƒšãƒ¼ã‚¸ã‚’åŒæ™‚ã«è¡¨ç¤ºã§ãã¾ã™ã€‚

```
/app
â””â”€â”€ dashboard/
    â”œâ”€â”€ @analytics/
    â”‚   â””â”€â”€ page.tsx
    â”œâ”€â”€ @team/
    â”‚   â””â”€â”€ page.tsx
    â””â”€â”€ page.tsx
```

```typescript
// app/dashboard/layout.tsx
export default function DashboardLayout({
  analytics,
  team,
  children,
}: {
  analytics: React.ReactNode;
  team: React.ReactNode;
  children: React.ReactNode;
}) {
  return (
    <div>
      {children}
      {analytics}
      {team}
    </div>
  );
}
```

### æ¡ä»¶ä»˜ããƒ«ãƒ¼ãƒˆ

`loading.tsx`ã¨`error.tsx`ã‚’ä½¿ç”¨ã—ã¦ã€ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã¨ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã‚’å‡¦ç†ã§ãã¾ã™ã€‚

```typescript
// app/blog/[slug]/loading.tsx
export default function Loading() {
  return <div>èª­ã¿è¾¼ã¿ä¸­...</div>;
}
```

```typescript
// app/blog/[slug]/error.tsx
'use client';

export default function Error({
  error,
  reset,
}: {
  error: Error;
  reset: () => void;
}) {
  return (
    <div>
      <h2>ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ</h2>
      <button onClick={reset}>å†è©¦è¡Œ</button>
    </div>
  );
}
```

## ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

App Routerã§ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡Œã†å ´åˆã€`next/navigation`ã‹ã‚‰`useRouter`ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã€Pages Routerã®`next/router`ã¨ã¯**åˆ¥ç‰©**ã§ã™ã€‚

> **âš ï¸ é‡è¦ãªæ³¨æ„ç‚¹**: `next/router`ï¼ˆPages Routerç”¨ï¼‰ã¨`next/navigation`ï¼ˆApp Routerç”¨ï¼‰ã¯**å®Œå…¨ã«åˆ¥ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸**ã§ã™ã€‚æ··åŒã—ãªã„ã‚ˆã†ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚

### App Routerã§ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

```typescript
'use client';

// âœ… æ­£ã—ã„: App Routerã§ã¯ next/navigation ã‚’ä½¿ç”¨
import { useRouter, usePathname, useSearchParams } from 'next/navigation';

export default function NavigationButton() {
  const router = useRouter();
  const pathname = usePathname();
  const searchParams = useSearchParams();
  
  const handleClick = () => {
    // ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«ã‚ˆã‚‹ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
    router.push('/about');
    // ã¾ãŸã¯
    router.replace('/contact');
  };
  
  return (
    <div>
      <p>ç¾åœ¨ã®ãƒ‘ã‚¹: {pathname}</p>
      <button onClick={handleClick}>Aboutãƒšãƒ¼ã‚¸ã¸</button>
    </div>
  );
}
```

**App Routerã®`useRouter`ï¼ˆ`next/navigation`ï¼‰ã®ç‰¹å¾´:**

- âœ… `push()`: æ–°ã—ã„ãƒšãƒ¼ã‚¸ã«é·ç§»ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶å±¥æ­´ã«è¿½åŠ ï¼‰
- âœ… `replace()`: ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã‚’ç½®ãæ›ãˆï¼ˆãƒ–ãƒ©ã‚¦ã‚¶å±¥æ­´ã«è¿½åŠ ã—ãªã„ï¼‰
- âœ… `refresh()`: ç¾åœ¨ã®ãƒ«ãƒ¼ãƒˆã‚’å†ãƒ•ã‚§ãƒƒãƒ
- âœ… `back()`: ãƒ–ãƒ©ã‚¦ã‚¶ã®æˆ»ã‚‹ãƒœã‚¿ãƒ³ã¨åŒã˜å‹•ä½œ
- âœ… `forward()`: ãƒ–ãƒ©ã‚¦ã‚¶ã®é€²ã‚€ãƒœã‚¿ãƒ³ã¨åŒã˜å‹•ä½œ
- âŒ `query`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯**å­˜åœ¨ã—ãªã„**ï¼ˆã“ã‚Œã¯Pages Routerã®æ©Ÿèƒ½ï¼‰

### Pages Routerã§ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

```typescript
// âœ… æ­£ã—ã„: Pages Routerã§ã¯ next/router ã‚’ä½¿ç”¨
import { useRouter } from 'next/router';

export default function NavigationButton() {
  const router = useRouter();
  
  // Pages Routerã®useRouterã¯queryãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æŒã¤
  const { id, category } = router.query;
  
  const handleClick = () => {
    router.push('/about');
  };
  
  return (
    <div>
      <p>ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿: {JSON.stringify(router.query)}</p>
      <button onClick={handleClick}>Aboutãƒšãƒ¼ã‚¸ã¸</button>
    </div>
  );
}
```

**Pages Routerã®`useRouter`ï¼ˆ`next/router`ï¼‰ã®ç‰¹å¾´:**

- âœ… `push()`: æ–°ã—ã„ãƒšãƒ¼ã‚¸ã«é·ç§»
- âœ… `replace()`: ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã‚’ç½®ãæ›ãˆ
- âœ… `query`: URLã®ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨å‹•çš„ãƒ«ãƒ¼ãƒˆã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- âœ… `pathname`: ç¾åœ¨ã®ãƒ‘ã‚¹å
- âœ… `asPath`: ã‚¯ã‚¨ãƒªæ–‡å­—åˆ—ã‚’å«ã‚€å®Ÿéš›ã®ãƒ‘ã‚¹

### æ¯”è¼ƒè¡¨: App Router vs Pages Router

| æ©Ÿèƒ½ | App Router (`next/navigation`) | Pages Router (`next/router`) |
|------|-------------------------------|----------------------------|
| ã‚¤ãƒ³ãƒãƒ¼ãƒˆ | `import { useRouter } from 'next/navigation'` | `import { useRouter } from 'next/router'` |
| `push()` | âœ… ã‚ã‚Š | âœ… ã‚ã‚Š |
| `replace()` | âœ… ã‚ã‚Š | âœ… ã‚ã‚Š |
| `query` | âŒ **ãªã—** | âœ… ã‚ã‚Š |
| `pathname` | `usePathname()`ãƒ•ãƒƒã‚¯ã‚’ä½¿ç”¨ | âœ… `router.pathname` |
| `searchParams` | `useSearchParams()`ãƒ•ãƒƒã‚¯ã‚’ä½¿ç”¨ | âœ… `router.query` |

### ã‚ˆãã‚ã‚‹é–“é•ã„: ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹ã®æ··åŒ

```typescript
'use client';

// âŒ é–“é•ã„: App Routerã§ next/router ã‚’ä½¿ç”¨
import { useRouter } from 'next/router';  // ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§

// âœ… æ­£ã—ã„: App Routerã§ã¯ next/navigation ã‚’ä½¿ç”¨
import { useRouter } from 'next/navigation';

export default function MyComponent() {
  const router = useRouter();
  // ...
}
```

### App Routerã§ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹æ–¹æ³•

App Routerã§ã¯ã€`query`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒå­˜åœ¨ã—ãªã„ãŸã‚ã€`useSearchParams`ãƒ•ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

```typescript
'use client';

import { useSearchParams } from 'next/navigation';

export default function SearchPage() {
  const searchParams = useSearchParams();
  
  // ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å–å¾—
  const query = searchParams.get('q');
  const category = searchParams.get('category');
  
  return (
    <div>
      <p>æ¤œç´¢ã‚¯ã‚¨ãƒª: {query}</p>
      <p>ã‚«ãƒ†ã‚´ãƒª: {category}</p>
    </div>
  );
}
```

**URLä¾‹:** `/search?q=nextjs&category=framework`

- `searchParams.get('q')` â†’ `'nextjs'`
- `searchParams.get('category')` â†’ `'framework'`

---

## Pages Routerã«ã‚ˆã‚‹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

Pages Routerã¯ã€`pages/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½¿ç”¨ã—ã¦ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ç®¡ç†ã™ã‚‹å¾“æ¥ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã™ã€‚

### ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° (`pages/`)

`pages/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®ãƒ•ã‚¡ã‚¤ãƒ«åãŒURLãƒ‘ã‚¹ã«ãªã‚Šã¾ã™ã€‚

```
/pages
â”œâ”€â”€ index.tsx          // ãƒ«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸ (/)
â”œâ”€â”€ about.tsx          // /aboutãƒšãƒ¼ã‚¸
â””â”€â”€ blog/
    â”œâ”€â”€ index.tsx      // /blogãƒšãƒ¼ã‚¸
    â””â”€â”€ [id].tsx       // /blog/[id]ãƒšãƒ¼ã‚¸
```

### åŸºæœ¬çš„ãªãƒšãƒ¼ã‚¸ã®ä½œæˆ

```typescript
// pages/about.tsx
export default function AboutPage() {
  return (
    <div>
      <h1>About Us</h1>
      <p>ç§ãŸã¡ã«ã¤ã„ã¦</p>
    </div>
  );
}
```

### å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

Pages Routerã§ã¯ã€`useRouter`ãƒ•ãƒƒã‚¯ã‚’ä½¿ã£ã¦å‹•çš„ãªã‚»ã‚°ãƒ¡ãƒ³ãƒˆã®å€¤ã‚’å–å¾—ã—ã¾ã™ã€‚

```typescript
// pages/blog/[id].tsx
import { useRouter } from 'next/router';

const BlogPostPage = () => {
  const router = useRouter();
  const { id } = router.query;
  
  // ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚‚å–å¾—å¯èƒ½
  const { category } = router.query;

  return (
    <div>
      <h1>ãƒ–ãƒ­ã‚°æŠ•ç¨¿: {id}</h1>
      {category && <p>ã‚«ãƒ†ã‚´ãƒª: {category}</p>}
    </div>
  );
};

export default BlogPostPage;
```

**ç‰¹å¾´:**

- **`useRouter`ãƒ•ãƒƒã‚¯**: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ã«ã‚¢ã‚¯ã‚»ã‚¹
- **ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**: URLã®ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚‚`router.query`ã§å–å¾—å¯èƒ½
- **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°

Pages Routerã§ã¯ã€`getServerSideProps`ã‚„`getStaticProps`ã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚§ãƒƒãƒã—ã¾ã™ã€‚

```typescript
// pages/blog/[id].tsx
import { GetServerSideProps } from 'next';

type BlogPostPageProps = {
  post: {
    id: string;
    title: string;
    content: string;
  };
};

export default function BlogPostPage({ post }: BlogPostPageProps) {
  return (
    <div>
      <h1>{post.title}</h1>
      <p>{post.content}</p>
    </div>
  );
}

export const getServerSideProps: GetServerSideProps = async (context) => {
  const { id } = context.params!;
  
  const post = await fetch(`https://api.example.com/posts/${id}`)
    .then(res => res.json());
  
  return {
    props: {
      post,
    },
  };
};
```

## ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. App Routerã‚’å„ªå…ˆã™ã‚‹

æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å§‹ã‚ã‚‹å ´åˆã¯ã€**App Router**ã®åˆ©ç”¨ãŒå¼·ãæ¨å¥¨ã•ã‚Œã¾ã™ã€‚App Routerã¯ã€å°†æ¥çš„ãªNext.jsã®é€²åŒ–ã®æ–¹å‘æ€§ã§ã‚ã‚Šã€ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚„ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã®æ–°ã—ã„æ–¹æ³•ãªã©ã€å¤šãã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ã‚’æä¾›ã—ã¾ã™ã€‚

### 2. å‹•çš„ãƒ«ãƒ¼ãƒˆã®å‘½åè¦å‰‡ï¼ˆæ€æƒ³ã®æ·±æ˜ã‚Šï¼‰

å‹•çš„ãƒ«ãƒ¼ãƒˆã®å‘½åã¯ã€ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ã¨ä¿å®ˆæ€§ã«å¤§ããå½±éŸ¿ã—ã¾ã™ã€‚ç‰¹ã«ã€ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ«ãƒ¼ãƒˆã§ã¯ã€**æ„å‘³ã®ã‚ã‚‹åå‰ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒé‡è¦**ã§ã™ã€‚

#### ãªãœ`[id]`ã‚’é¿ã‘ã‚‹ã¹ãã‹ï¼Ÿ

Next.jsã®App Routerã§ã¯ã€`params`ãŒãƒã‚¹ãƒˆã•ã‚Œã¾ã™ã€‚ä¾‹ãˆã°ã€`/users/[userId]/posts/[postId]`ã¨ã„ã†æ§‹é€ ã®å ´åˆã€`params`ã¯`{ userId: '...', postId: '...' }`ã¨ãªã‚Šã¾ã™ã€‚

ã™ã¹ã¦ã‚’`[id]`ã«ã—ã¦ã—ã¾ã†ã¨ã€ã©ã¡ã‚‰ã®IDã‹ã‚ã‹ã‚‰ãšã€ãƒã‚°ã®åŸå› ã«ãªã‚Šã¾ã™ã€‚**ã€Œãã®å¤‰æ•°ãŒæŒ‡ã™å›ºæœ‰ã®åå‰ã€**ã‚’å¸¸ã«ä½¿ã„ã¾ã—ã‚‡ã†ã€‚

```typescript
// âœ… è‰¯ã„ä¾‹: æ„å‘³ã®ã‚ã‚‹åå‰ã‚’ä½¿ç”¨
app/blog/[slug]/page.tsx
app/users/[userId]/page.tsx
app/products/[productId]/page.tsx
app/users/[userId]/posts/[postId]/page.tsx

// âŒ æ‚ªã„ä¾‹: æ„å‘³ã®ãªã„åå‰
app/blog/[id]/page.tsx
app/users/[id]/page.tsx
app/users/[id]/posts/[id]/page.tsx  // ã©ã¡ã‚‰ã®IDã‹ã‚ã‹ã‚‰ãªã„ï¼
```

#### ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ«ãƒ¼ãƒˆã§ã®å®Ÿä¾‹

```typescript
// âœ… è‰¯ã„ä¾‹: æ˜ç¢ºãªå‘½å
// app/users/[userId]/posts/[postId]/page.tsx
type PostPageProps = {
  params: Promise<{
    userId: string;    // ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã§ã‚ã‚‹ã“ã¨ãŒæ˜ç¢º
    postId: string;    // æŠ•ç¨¿IDã§ã‚ã‚‹ã“ã¨ãŒæ˜ç¢º
  }>;
};

export default async function PostPage({ params }: PostPageProps) {
  const { userId, postId } = await params;
  
  // userIdã¨postIdã®åŒºåˆ¥ãŒæ˜ç¢ºã§ã€ã‚³ãƒ¼ãƒ‰ãŒèª­ã¿ã‚„ã™ã„
  const post = await fetch(`/api/users/${userId}/posts/${postId}`);
  return <div>{/* ... */}</div>;
}

// âŒ æ‚ªã„ä¾‹: ã™ã¹ã¦[id]ã«ã—ã¦ã—ã¾ã†
// app/users/[id]/posts/[id]/page.tsx
type PostPageProps = {
  params: Promise<{
    id: string;  // ã©ã¡ã‚‰ã®IDã‹ã‚ã‹ã‚‰ãªã„ï¼
  }>;
};

export default async function PostPage({ params }: PostPageProps) {
  const { id } = await params;
  // ã“ã‚Œã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼IDãªã®ã‹ã€æŠ•ç¨¿IDãªã®ã‹ã‚ã‹ã‚‰ãªã„
  // ãƒã‚°ã®åŸå› ã«ãªã‚‹å¯èƒ½æ€§ãŒé«˜ã„
  const post = await fetch(`/api/users/${id}/posts/${id}`);  // é–“é•ã£ã¦ã„ã‚‹å¯èƒ½æ€§
  return <div>{/* ... */}</div>;
}
```

#### å‘½åè¦å‰‡ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

1. **å›ºæœ‰ã®åå‰ã‚’ä½¿ç”¨**: `userId`ã€`postId`ã€`productId`ãªã©ã€ãã®å¤‰æ•°ãŒä½•ã‚’æŒ‡ã—ã¦ã„ã‚‹ã‹æ˜ç¢ºã«
2. **è¤‡æ•°å½¢ã‚’é¿ã‘ã‚‹**: `[users]`ã§ã¯ãªã`[userId]`ã‚’ä½¿ç”¨ï¼ˆå˜ä¸€ã®IDã‚’è¡¨ã™ãŸã‚ï¼‰
3. **æ„å‘³ã®ã‚ã‚‹åå‰**: `[slug]`ã€`[username]`ã€`[category]`ãªã©ã€ãã®å¤‰æ•°ã®æ„å‘³ãŒä¼ã‚ã‚‹åå‰
4. **ä¸€è²«æ€§ã‚’ä¿ã¤**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã§å‘½åè¦å‰‡ã‚’çµ±ä¸€

### 3. ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®é©åˆ‡ãªä½¿ç”¨

```typescript
// âœ… è‰¯ã„ä¾‹: å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ä½¿ç”¨
app/layout.tsx          // å…¨ä½“ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
app/dashboard/layout.tsx // ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰å°‚ç”¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

// âŒ æ‚ªã„ä¾‹: å„ãƒšãƒ¼ã‚¸ã§å€‹åˆ¥ã«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å®Ÿè£…
app/dashboard/page.tsx  // ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å«ã‚€
app/dashboard/settings/page.tsx // åŒã˜ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å†åº¦å®Ÿè£…
```

### 4. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

```typescript
// app/blog/[slug]/error.tsx
'use client';

export default function Error({
  error,
  reset,
}: {
  error: Error;
  reset: () => void;
}) {
  return (
    <div>
      <h2>ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ</h2>
      <p>{error.message}</p>
      <button onClick={reset}>å†è©¦è¡Œ</button>
    </div>
  );
}
```

### 5. ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã®å‡¦ç†

```typescript
// app/blog/[slug]/loading.tsx
export default function Loading() {
  return (
    <div>
      <div className="skeleton">èª­ã¿è¾¼ã¿ä¸­...</div>
    </div>
  );
}
```

## ã¾ã¨ã‚

Next.jsã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ãƒ™ãƒ¼ã‚¹ã§ç›´æ„Ÿçš„ã«ç†è§£ã§ãã¾ã™ã€‚App Routerã¨Pages Routerã®é•ã„ã‚’ç†è§£ã—ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¦ä»¶ã«å¿œã˜ã¦é©åˆ‡ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’é¸æŠã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚

**æ¨å¥¨äº‹é …:**

- **æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: App Routerã‚’ä½¿ç”¨
- **æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: Pages Routerã‹ã‚‰App Routerã¸ã®ç§»è¡Œã‚’æ¤œè¨
- **å‹•çš„ãƒ«ãƒ¼ãƒˆ**: æ„å‘³ã®ã‚ã‚‹åå‰ã‚’ä½¿ç”¨
- **ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**: å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’é©åˆ‡ã«ä½¿ç”¨
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: `error.tsx`ã¨`loading.tsx`ã‚’æ´»ç”¨

ã“ã‚Œã‚‰ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’å®ˆã‚‹ã“ã¨ã§ã€ä¿å®ˆæ€§ãŒé«˜ãã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®è‰¯ã„Next.jsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰ã§ãã¾ã™ã€‚
