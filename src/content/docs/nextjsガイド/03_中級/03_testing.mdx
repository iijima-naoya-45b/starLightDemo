---
title: "Next.jsのテスト"
label: "Next.jsのテスト"
---

## 🧪 Next.jsのテスト

Next.jsプロジェクトの品質と信頼性を確保するために、ユニットテストは不可欠です。Next.jsの公式ドキュメントでは、テストフレームワークとしてJestとReact Testing Libraryの組み合わせが推奨されています。

### 1. 必要なパッケージをインストール

`create-next-app`でテスト環境をセットアップしていない場合、以下をインストールします。

```bash
npm install -D jest jest-environment-jsdom @testing-library/react @testing-library/jest-dom
```

### 2. Jestの設定

`jest.config.ts`ファイルを作成し、`jest-environment-jsdom`と`@testing-library/jest-dom`を使用するように設定します。

### 3. コンポーネントのテスト例

例えば、シンプルな「こんにちは」を表示するコンポーネントをテストします。

```typescript
// components/Greeting.tsx
export default function Greeting({ name }: { name: string }) {
  return <h1>こんにちは、{name}！</h1>;
}
```

#### テストコード

```typescript
// __tests__/Greeting.test.tsx
import '@testing-library/jest-dom';
import { render, screen } from '@testing-library/react';
import Greeting from '@/components/Greeting';

describe('Greeting', () => {
  it('should render a greeting with the provided name', () => {
    render(<Greeting name="太郎" />);

    // 「こんにちは、太郎！」というテキストがドキュメントに存在するか確認
    expect(screen.getByText('こんにちは、太郎！')).toBeInTheDocument();
  });
});
```

このテストは、コンポーネントが正しくテキストをレンダリングしているかを確認します。RTLは、UIが正しくユーザーに表示されているかをテストする上で非常に強力です。

これらの機能は、Next.jsが提供するエコシステムの一部であり、開発者がモダンで高品質なウェブアプリケーションを効率的に構築するための基盤となります。
